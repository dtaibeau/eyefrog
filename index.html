<!doctype html>
<meta charset="utf-8" />
<title>eyefrog</title>

<link rel="stylesheet" href="words.css" />

<style>
  html,body{height:100%}
  body{
    margin:0; background:#000; color:#7CFF8B;
    display:flex; align-items:center; justify-content:center;
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  }
  .stage{position:relative; width:100vw; height:100vh; overflow:hidden}
  pre{
    margin:0; white-space:pre; tab-size:2;
    line-height:1; letter-spacing:0; font-size:16px; /* design size; auto-scaled */
    transform-origin: top left; position:absolute; top:0; left:0; user-select:none;
  }
  #base   { color:#19f06d; text-shadow:0 0 6px #093; }
  #overlay{ color:#b7ffcf; text-shadow:0 0 10px #0f5; }
</style>

<div class="stage">
  <pre id="base"></pre>
  <pre id="overlay"></pre>
  <div id="words"></div>
</div>

<script>
/* ===== 1) PASTE YOUR BIG ASCII HERE =====
   Replace the placeholder below with your full ART string from your project.
*/
const ART = `
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                            .  .                                                                                                                                                                                
                                                                                                                                                                                                                       ... . .  . . .                                                                                                                                                                           
                                                                                                                                                                                                                    ...   .   .  . . . . .                                                                                                                                                                      
                                                                                                                                                                                                                 ...  . .     . ......... . .                                                                                                                                                                   
                                                                                                                                                                                                              .:... .. .... .... ............ .                                                                                                                                                                 
                                                                                                                                                                                                            ::.............:::::::..............                                                                                                                                                                
                                                                                                                                                                                                          .::......::::;;+++x+++++++++;:.........                                                                                                                                                               
                                                                                                                                                                                                         :::.....:;++++xxxx+;:........:;;;::.......                                                                                   ..:.                                                                      
                                                                                                                                                                                                        ;::....::+++xxxXx+;::..          ..:::......                                                                              ..::;;;;;:                                                                    
                                                                                                                                                                                                       ;::...::;+xxxxx+;::...               .:::.....                                                                         ..:::::;;;;;;;:                                                                   
                                                                                                                      ....:::::::::..                                                                 :;::..:;;++xxx+;:.. .                  .:;:....                                                                      ...:::::;;;::;;;;;:                                                                  
                                                                                                                  ::.... .    . . ...:..                                                              ;::.::;;+xxxX+;:..                       :;:....                                                                  ....::::;;;;;;;;;;+++;                                                                  
                                                                                                               .:.....      .        ......                                                          :;::.:;;++xxx+;:..  .::.                   :;:..:.                                                               . ..:::::;;;;;;+;++;++x+                                                                  
                                                                                                              :...   .       . .. . . .. .....                                                       ;;::::;++xxxx;:.. :$&&&X:    :.             :;:.::                                                              . . ...::;++++++x+xx++xx+                                                                  
                                                                                                            ........  ................ .........                                                     ;:::::;+xxxx+;:.:$&&&&&&x  ;$&&$.            ::..::                                                          .::::::;;;+++++xxXXXXXXXXX+                                                                   
                                                                                                          ...... . ...............................                                                   ;::::;;+xxxx+:.:$&&&&&&&&&&&&&&&$.           .:::::.                                                       ..::;;;;;++++xxXxXXXXXXXX+:                                                                     
                                                                                                         ..............::::::::::..................                                         .........::.:::;+xx+x+:.+&&&&&&&&&&&&&&&&&+            ::::;;                                                     ...::::::::::                                                                                     
                                                                                                       ..........::::::;;;;;;;;;;;;;::...............                              ........................::;+++;:.x&&&&&&&&&&&&&&&&&X            :;:.;+                   ...                         . . ....:::::::                                                                                         
                                                                                                      .........:::::;;;;+++x+++++++++++::.............                       ....:.............................::::.+&&&&&&&&&&&&&&&&&$:           :;::;x.                .:..             . . . . . ..::::::::::::::;.                                                                                         
                                                                                                    .........::::;;+xxx++;:......:::;;++++:............                 ...:::.............. .... ..................:+$&&&&&&&&&&&&&&&$:      . .  ::::;X;             ..:....        . .. .... . . ....:..:::::::;;;.                                                                                          
                                                                                                   ........::;;++XXx+;..            ..:;++++;...........            .::::::...... .  . .   . .  . . ...................:;X&&&&&&&&&&&&$;::.....:.  :;::+X;          ..::.....       . ..... .      . . ...::::::::.                                                                                             
                                                                                                  ........;+++XXx+;                    ..:;+++:..........       .::::::::..... . . .             . . . . ..............::::;+$&&&&&&&&&+;::::.::...::::+$+       ..............                     ....                                                                                                        
                                                                                                .........;++XXx+;.            ;X.        ..:;+++:............::::::::::::..... . .  .     .  . . . ......................::::::;X&&&&&$+;::::::::::;:::x&+  ...................                                                                                                                                 
                                                                                               .:.......;+xXX+;.            :&&&&X     .X$:..;+++::........:::;;:;:::::..... ..   .   . .  . ...... .    .  ...............:::::::X&&&X+;;;;::::::::::;X&;......................    . . .                                                                                                                       
                                                                                               :.......;+xXx+:.            +&&&&&&&.   $&&&; .:;++;:.......:;;;;;;:::::...... . .  . . . .. .               .................:::::;x$Xx++;;;;;:::;;:::+&&:.......................      . ....                                                                                                                   
                                                                                              ::......;+xXx+;.            X&&&&&&&&&::&&&&&&+ .:;++::.:::...:;;;;;;::::......... . . . .              .. .     .............:.::::::;xx+++++;::;;;:::+$&X.......................... . . . .......                                                                                                               
                                                                                             ::.......++XX+:.           ;&&&&&&&&&&&&&&&&&&&&; .:+++:.:::::.:;;;;;::::::...... . .                . .. .......  ................::::::+x+++;:;;;;:::+$&&. .  . .................................::.. .  .                                                                                                       
                                                                                             ::......:+xXx;...         :$&&&&&&&&&&&&&&&&&&&&&; .:++;::::::.:;;;;;;::::::....... .                 . . . . ......................::::::;+++;;+;::;;x$&&;     ... ................::;;;;;::::........:... .....                                                                                                  
                                                                                            .::......;+XX+:::.         ;&&&&&&&&&&&&&&&&&&&&&&&;..;xx:::::::.:;;;;::::::...... . .                   ........... .. ..............:::::::;;:::;+XX$&&&X        ................::;;+++++++++;;;::::.....:.......... .          .                  .:::::.                                                       
                                                                                            .::......;+XX+::.          X&&&&&&&&&&&&&&&&&&&&&&&&:.:+X;;;::::::;;;;::::::.........                               . .. ...............:::::;+xX$$$$&&&&x       . ...............:;;+++++x+x+x+++++++;;;::::::::::::::::...... .   . . . .  ..::;;;;;;;;;++++++:                                                   
                                                                                            .::....::+xXX;::           $&&&&&&&&&&&&&&&&&&&&&&&&X.:;x+;;::::::;;;::::::....... .                              . .  . . ..............:::::;+X$&&&&&$:.   . .  .............::::;++++++++++++++x+++++++++;;::::::;;;;;;;::::::.. . .......::::;;;;::;;+++++++xx                                                  
                                                                                             ::....::+xXX;:.   .      .$&&&&&&&&&&&&&&&&&&&&&&&&$..;++;;::::::;;::::::........  . .                       . .. . .. . . . .............:::::;x&&&+..... . . . . . ........:::..;++;.                 .::;++++;;;;;;;;;;;;;;;;;;;::. . .....::;;;+++++++xx++++x+                                                 
                                                                                             ::....::+xXx;:.  ..  .   .+&&&&&&&&&&&&&&&&&&&&&&&&$..:;+;;:::::;;::::::....... .. .                     . ...................................:::;x+..... .. .       . ......:::..:.                               :;;;+;;;;;;;;;;;;;;;;;::::..::::;;;++++++x+++++                                                 
                                                                                             ::....:;+xXx;. . ........ :X&&&&&&&&&&&&&&&&&&&&&&&;..:;++;:::::;:::::::........ .                    ........::::::::::::::::::::...............:::::....... .         .....:::..                                         ::;++++++++++++++;;;;;;;;;;++++++x++xx+:                                                
                                                                                             .::...:;+xXX;:. .:....:....;$&&&&&&&&&&&&&&&&&&&&&X...:;++;:::::::::::....... .                   ...............::::::;;;;;;;;;;;;:::::...........::::........            ...:::.                                                 .:;+++++++++++;;;;;++++++xx+xx+;                                                
                                                                                             .:::..:;+xXX;:..::::::::::..:$&&&&&&&&&&&&&&&&&&&X:...:;++;::;::::::::..... .                  .   .......:::;+xXX$$$$$&&$&$$$$$$$$XXx++;;:::........:::...... .             ..::.                                                        :+++++++++;+++++++xx+xx+;                                                
                                                                                              ;::...;++XX+:::::::::::::...;X&&&&&&&&&&&&&&&&&+:....:+++;:::::::::...... .                  . ....::;+XX$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$XXX+;::......::.......              ...:.                                                           :;++++++++++++++xxx+                                                 
                                                                                              :;:...:++XX+:::::::::::::::..:;x$&&&&&&&&&&&X;:.....:;++;;:;:::::.......    . . .         ....::;+XX$&&&&&&&&&&&&&$$XxxxxXXXX$$&&&&&&&&&&&&&&&$X+::....:++....     .          ...::                                                             :;++++++++++++;                                                   
                                                                                               ;;:...;+xXX+:::::::::::::::..::::;++xxx++++::.....::;++;:;;::::............         ....:::;+X$&&&&&&$X+;:::::::::::;;;;;+++++++xXXXXXX$&&&&&&&&&$+:...;&$:.... .. ..          ...:.                                                                 ...                                                         
                                                                                               :;::..:+xX$X+::::::::::::::::::::::::;;;;;;:.....::;;++;;;::::......... . .     .....::;;+X$&&&$x+;:::::::::::;;;;;;;;;++++++xXXXXXXXXXXXXXXX$$&&&&&$X+$&&X:...........           ...                                                                                                                            
                                                                                                +;::..;+X$$X;::::::::::::::::::::::::::::::....:;;;++;;+;:::........ ..    ......:;;+X$$&&$+::.::::::::::;;;;;;;+++xxxXXXXXXXXXXXXXXXXXXXXXXXXXX$&&&&&&&$X+::::::........          ...                                                                                                                          
                                                                                                .+;::::+xX$XX+;:::::::::::::::::....::.:::...::;;+++;;+;:::...... . .  . ....::;+xX$&&&X;::::::::::;;;;;++++++xxxxxxxxxXxXXXXXXXXXXXXXX$X$XXXXXXX$$&&&&&XXx::::::::::........ .      ...                                                                                                                        
                                                                                                 :+;:;;;+xX$$x+;;::::::::::::::...    ......:;+;++;;;+;:::..... .. . ......:;+X$&&&$+::::::::::;;;+++++xxxxxxxxxxxxxXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$XXXX+;;;xXXX+;;:::......... .     ...                                                                                                                     
                                                                                                  :+;;;;;+xXX$x+;;;:::::::::....     ....::;;;+++;;++::::.... . . ......:;+X$&&$X+:::::::;;;;++++++++x++xxxXXXXXXXXXX$X$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$XXXXx;+xXX;::;;;;;;::...........    ..:..                                                                                                                 
                                                                                                   .;;;+++++xXXX++;;;::::::..... .....:::;;+++++;;+;:::.... . .......::;xX&&$+;:::;;;;;;;+++++++++++xxXXXXXXXXXXXX$XXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$XXXx++xX+        .::;:::::........   .....:.:::::.:...                                                                                                   
                                                                                                     :;+++++;+xXXXx++;;::......:::::;;;;++++++;;+;::::............::;+X$&X+;:;;;;;;;++++++++++++xxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$XXX$$$$$$$$$$$$$$$$$$$XXX+++xX:              .::::.........   ...............                                                                                                  
                                                                                                       :;+++++++++xXXx+++;;;;;;;;;;;;;;;;;;;;++;;:::...........::;x$$$X+;;;;;;++++++++x+x+++xxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$XXX+++xX                    ..:.......... .........::..                                                                                                  
                                                                                                        +x++++++++++++++xx+++++++;;::;;;;;+;;;;;:..........::;+X$&$x;;;;;;+++++xxxxxxxxxxxxxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$$$$XXXXx++x+                        .:.................::::.                                                                                                 
                                                                                                       :$&$$X+++++++++++;+;+;+;;;;;;;;;;;;;;::.........:;;+X&&&$x;;;;++++++xxxxxXxXXXXxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$XX$$$$$$$$$$$$$$$$$$$$$$$$$XXX$+;;x+                           .:...........:..::::.                                                                                                 
                                                                                                       X$&&&&$$$XXxx++++++++++++++++++++;::.........::+x$&&&X+;;;;;+++++xxxxxXxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$X$$$$$$$$$$$$$$$$$$$$$$$$XX$X;;++;                             .:.........::::::;:                                                                                                 
                                                                                                      +$&&$$$$$$$$$$$$$$$$$$$XXXx++;;:::..........:;+$&&&$++;;;;++++x+xxxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$XXXXXXXX$$X$$$$$$$$$$$$$$$$X$$+::;+;                               ..........::::::.                                                                                                 
                                                                                                     .X$&$$$$$$XXXXXXXXXXxx+++;;:::..............;X$&&&X+;;;;;++++xxxxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$X$$X;::;;;.                                ........::::::                                                                                                  
                                                                                                     +X$$$$XXXx+;;;;;;;;::::::.................;X$&&&x+;;;;++++xxxxxxxxxxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$X$$+;:::;;:                                 ........:....                                                                                                  
                                                                                                     XX$XxxXx+++++;;::::::::.................+$&&&&X;;;;;+++xxxxXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$X;::::;++                                   .........                                                                                                    
                                                                                                    :X$$xxxx+++++;;::::::.:...............:x$&&&&X;;;;;+++xxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$$$$$$$$$X+:::::;;x+                                                                                                                                               
                                                                                                    ;X$X+++++++;;::::::.:................x$&&&&$+;;;;++xxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$$$X;::.:::;+x:                                                                                                                                              
                                                                                                    ;XX+++++++;;:::::.:...............:+&&&&&$+;;;;++xxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$x.;:::..::;++X                                                                                                                                              
                                                                                                    ;Xx+++++++;:::::.................+$&&&&&x;;;+++xxxXXXXXXXXXXXXXXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$&X   ::::..:;;+xx                                                                                                                                             
                                                                                                    ;Xx++++++;;::::................+$&&&&&X;;++++xxXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$X$$$$$$$$;   ::::...:;;++x                                                                                                                                            
                                                                                                    :Xx+++++++;;;:...............+&&&&&&X+;;;++xxXxxXXXXXXXXXXXXXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$XXX$$$$$$&x     ::.....::;;+X:                                                                                                                                          
                                                                                                     Xx++++;x$x+;:............:+&&&&&&X+;++++xxxxxxXXXXXXXXXXXXXXxXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$XXXXX$$$$$$X      .:...::::::;;x+                                                                                                                                         
                                                                                                     +++++;+&&&$x;:.........;X&&&&&&$;;;+++++xxxxXXXXXXXXXXXXXxXXXxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxxXXXXXXXXXXXXXXXXXXXXX$XXxxXXX$$$$$        ::.:::::::;;;+x:                                                                                                                                       
                                                                                                     :x+++;+&&&&&&$X;::;X&&&&&&&&&X;;;;+++++++xxXXXXXXXXXXXxxXxXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxXxxxXXXXXXXXXXXXXXXxXxXXXXXxxxXXXX$X$$;         :..:::::::;;;;x+                                                                                                                                      
                                                                                                      +++;;;$&&&&&&&&&&&&&&&&&&$x;;;;;+++++xxxXXXXXXXXXXXXxXxxXxXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxxxxxxXxxXXXXXXXXXXXxxxxxxxXXXxxxXXXXXX$$+           ...::::::::;;;+;                                                                                                                                     
                                                                                                      ;++;;:+&&&&&&&&&&&&&&&$x;;;;+;++++++xxXXXXXXXXXXxXxXxxxxXXxXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxxxxxxxXxxxXxXXXxXXXxxxxxxxxxxxxxxxxXXXXXX$x              ..::;::::::;;+                                                                                                                                     
                                                                                                     .:+Xx+;:+&&&&&&&&&&&$x++++++++++++++xXXXXXXXXXXxXXxXxxXxXxXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXxxXxxxxxxxxxxxXxxxxxxxxxxxx+++xxxx+x+xxxXXXXX$$x                 .::;;:::::;;:                                                                                                                                    
                                                                                                   ....:+xXx++x$&&&&$X+++++++++++++++++xxXXXXXXXXXxXxXxXxxxXxXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXxXxxxxxxxxxxxxxxxxxxxxxxxxx+++++++++xx+xxXXXXX$$X                    .:;;;:::;;:                                                                                                                                    
                                                                                                 ......;++++xxxx++++++++++xxxx++++++++xxXXXXXXXXXxXxXxxxxxXxxxXXxXXXXXXXXXXXXXXXXXXXXXXXXXxXxxxx+xxxxxxxxxxxxxxxxxx++++++++++++++xxxXXXX$$$$.                        ::..:                                                                                                                                      
                                                                                                ......:::;;;;;;;;;;+++xxxxxxXXx+xxx++xXXXXXXXXXxXxXxxxxxXxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXxxxxxx+++xxxxxxxxxxxxxxx+++++++++++++++xxxxxXXX$$$$$:                                                                                                                                                                    
                                                                                              ........::::::;+++xxxxXxxxxxxXXXxxxxXxxxXXXXXXXxxXxXxxxxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXxxxxxx+++++xxxxxxxx++x++++++++++++++++++x++xxxXXX$$$$$$;                                                                                                                                                                     
                                                                                            ............:::::;;;++++++++xxXXXXxxXXXXXxXXXXXXxXXxxxxXxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXxxxxx+++++++++++++++++++++++++++++++++++x+xxxXXXX$$$$$$+                                                                                                                                                                      
                                                                                           .............::::::;;;;;++++xxXX$XXXXXXXXXxXXXXXXXXXXXxxxxxxxxXXXXXXXXXXXXXXXXXXXXXXxxxx++++++++++++++++++++++++++++++++++++xxxxxxXXXX$$$$$$$X                                                                                                                                                                       
                                                                                         ...............::::;;;;;;++xxxXXX$$$XXXXXXXXXXXXXXXXXXXxxxxxxxXxXxXXXXXXXXXXXXXXXXXxxxxxxxx+++++++++++++++++++++++++++++++++xxxxXXXX$$$$$$$$$$X                                                                                                                                                                        
                                                                                       ...............:.::;;;;;;+++XXXXXX$$$$$$X$$XXXXXXXXXXXXXxxxx+xxxxXXXXXXXXXXXXXXXXXXxxxxxxx++++++++++++++++++++++++++++++++xxxxXXXXXX$$$$$$$$$$$$.                                                                                                                                                                        
                                                                                     ................:::;;;;;;;++xXXX$XX$$$$$$$$$$XXXXXXXXXXXXxxxxxxxxxxXxXXXXXXXXXXXXXxxxxxxxx+++++++++++++++++++++++++++++++xxxXXXXXXX$$$$$$$$$$$$$$;                                                                                                                                                                         
                                                                                    .................::;;;;;+;;++xX$$$$$$$$$$$$$$$$XXXXXXXXXXxxxxxxxxxxxXXXXXXXXXXXXxxxxxxxx+++++++++++++++++++++++++++++++++XXXXXXXX$$$$$$$$$$$$$$$$+                                                                                                                                                                          
                                                                                  ...................:;;;;;;;++++xXX$$$$$$$$$$$$$$$$XXXXXXXXxxxxxxxxxxXxXxXXXXXXXXxxxxxx+x+++++++++++++++++++++++++++++++++xxXXXXXXXXX$$$$$$$X$$$$$$x                                                                                                                                                                           
                                                                                .:::................:;;;;;;;++++xxX$$&$$&&&$$$$$$$$$$XXXXXXxxxxxxxxxxxXXXXXXXXXXxxxxx+x+x+++++++++++++;+++++;+++++++++++++xXXXXXXXXX$X$X$$$$XX$$$$$X                                                                                                                                                                            
                                                                              ..:::::...............::;;;;+;++++xxXX$$$$&&$$&&&&$$$$$XXXXXxxxxxxxxxXXXXXXXXXXXXxxxx+xxx++++++++;;;;;;;;+++;+++++++++++++xXXXXXXXXXXXXXXX$$$XX$$$$$$:                                                                                                                                                                            
                                                                             ..:::.:...............:::;;;+;;;;+++xXXXX$$&$$$$&&&&$$$$XXXxxxxxxXXXXXXXXXXXXXXXXxxxxxxx+++++++;;;;;;;;;;;;;+++++++++++++xXXXXXXXXXXXXXXXXX$$XXX$$$$$;                                                                                                                                                                             
                                                                           .....::.................:::;:;+;;;+;+++++xX$$$$$&&&&&&&$$$XXXXXxxxxXXX$XXXXXXXXXXxxxxxxxx++++++;+++;;;;;;;;;;;+++++++++++xxxxXXXXXXXXXXXXXXX$XXXX$$$$&+                                                                                                                                                                              
                                                                          ....:.:...................::;:;;;;;;+;++++XX$$$X$&&&&&&&$$$$XXXXXxxxXXX$XXXXXXXXXXxxxxxx++++++;++++;;;;;;;;;;;;;;+++++++xxxxxXxXXXXXXXXXXXXXX$XXXX$$$&x                                                                                                                                                                               
                                                                        .....:......:::::.........:.:::::;;:;:;;;;++XX$$XX$&&&&&&&&$$$XXXXXxxXXXXX$XXXXXXXXxXXXXx+++++++++++;;;;;;;;;;;;;;;;+++++++xxXXxXXXXXXXXXXXXXXXXXX$$$$&$                                                                                                                                                                                
                                                                       ..:.:::....:::::.............:::::::::::::;;+xXXXXX$&&&&&&&&&&$$$XXXxXXXXXXXXXXXXXXXXXXxx++++++++++;;;;;;;;;;;;;;;;;+++++++xxxXXXXXXXXXXXXXXXXXXXXX$$$$$                                                                                                                                                                                 
                                                                      ....:......::::...........:...::::::::::::::;;;+xxxXX$&&&&&&&&&$$$$XXXXXXXXXXXXXXXXXXXXxx++++++++;+;;;;;;;;;;;;;;;;;;+;++++xxxXXXXXXXXXXXXXXXXXXXXX$$$$$:                                                                                                                                                                                 
                                                                    ...:::.........................::::::::::::::::;;;++xxXX$&&&&&&&&$$$$XXXXXXXXXXXXXXXXXXXxx+++++++;;;;;;;;;;;;;;;;;;;;;;+++++xxxXXXXXXXXXXXXXXXXXXXX$$$$$$;                                                                                                                                                                                  
                                                                   ..:::...........:::::::....:.:..::::::::::::::::::;;;+xXXX$&&&&&&&&&$$$$XXXXXXXXXXXXXXXXxxx++++++++;;;;;::::::;;;;;;;;;+++++++xXXXXXXXXXXxxXXXXX$$XX$$$$$x                                                                                                                                                                                   
                                                                  .:::............::;:::.....:.:.:::::::::::::::::::::;;;+xXX$$&&&&&&&&&$$$XXXXXXxXXXXXXXXxxxxx++++++;;:::. ....:::;;;;;;;++++++xxXXXXxXXXXxXXXXX$$$$X$$$$$X                                                                                                                                                                                    
                                                                 .::::.:......:...:::::.:.:.:.::::::::::::::::::::::::::;;+xXX$$$&&&&&&&$$$XXXXXXxxXxXXXxxx+++x++;;:::.. .    . .::;;:;;;;+++++xxXxXxXXXXxxXXXXX$$$$$$$$$$X                                                                                                                                                                                     
                                                                .:::........::::....:.:..:.::::::::::::::::::::::::::::::;++xXX$$&&&&&&&$$$XXXXXx+;;+++++;++++++++;:. .        ...::::;;;++++++xxxxxxXXXXXXXXXX$$$$$$$$$$$:                                                                                                                                                                                     
                                                               .:::.:......::::.::::::.:::::::..::::::::::::::::::::::.:::;++xxX$$&&&&&&&$$$XXXx+;:..:::;;;;;++;;:;;:.       .  ..::::;;;+++++xxxxxXXXXxXXXXX$$$$$$$$$$$$;                                                                                                                                                                                      
                                                              .:::::........:.::.:.:.:::::::::.::::::::.:::::::::::::....::;++xX$$$&&&&&$$$XXx++:      ..:...::      ..       . .::::;;;;++++xxxxxxXXxXXXXXX$$$$$$$$$$$$+                                                                                                                                                                                       
                                                             .:::::.........::::::.:.::::::::.:.:.::::.::::::::::::::......:;++xXX$&&&&&$$Xx+++;:..                            ..:::;;;;+++++xxxxXXXXXXXXXX$$$$$$$$$$$$X                                                                                                                                                                                        
                                                            .:::::.:.:....:.::.:.:::::::::::..:.:.:.:.:.::::::::::::.......:;+++xXX$&&&$$Xx+++:...                             ..:::::;;++++x+xxXXXXXXXXX$$$$$$$$$$$$$$                                                                                                                                                                                         
                                                            :::....::::.:.:::::.:.::::::::..:.:.:.:.:.:::::::::::::.........:;+++xX$$$$$Xxxx;.....                              .:::::;;+++++xxXXXXXXXX$$$$$$$$$$$$$$$:                                                                                                                                                                                         
                                                           :::..:.:::::.:::::.::.:::::::::::::.:.:.:..:.:::::::::::..........:;+;+X$$$$XXx+;.......                            .....:;;+++xxxXXXXXXXXX$$$$$$$$$$$$$$$;                                                                                                                                                                                          
                                                          .::....:.::::::::.::.::::::::.:::::::.:.:..:.::::.::::::............;++;+X$$Xx+;::......                               ..::;+++xXXXXXXX$XX$$$$$$$$$$$$$$&$+                                                                                                                                                                                           
                                                          :...:.:.:.::::::.:.:::::::::.:.::.:.:.:.:.:.::::::::::::............:+;;x$Xx++;:........                             ....:;+++xXXXXXX$XXX$$$$$$$$$$$$$&&$X                                                                                                                                                                                            
                                                         ..:...:.::::::::.:::::::::::.:::.::.:.:::..:.::::.:::::::............:;++Xx+++;:..........                             ..:;+++xXXXXXX$XXXX$$$$$$$$$$$&&&$$                                                                                                                                                                                             
                                                         .:.:.:::.::;;:::::::::::::.::.:.:.::.:.:.:.:::::.:::::::.............:;++++++;:......... ..                          ...:;;++xxXXXXXXXXXX$$$$$$$$$&&&&&&$:                                                                                                                                                                                             
                                                         ..:.::::::;;;::::::::::::::.::.:.:.::.:.:.:.::::.:::::.:........... ..;+++++;............ ...                       ....:;;++xXXXXXXXXXXX$$$$$$$$&&&&&&&;                                                                                                                                                                                              
                                                        .::.:::::::;+;::::::.::::::::.::.::.:.:::..::.::..::::.:.:........... .:;+++;......... . . . .                     . ...:;;++++xxXXXXXXXX$XXX$$$&&&&&&&&X                                                                                                                                                                                               
                                                        .:.:::::::::;:::::::::::::.::::.:.:.::.:.:.::::..::::.:.:..........  . .;++;........ . . . . .                    . ..::;;;++++xxXxxxxXX$XXX$$&&&&&&&&&$                                                                                                                                                                                                
                                                       .::::::::::::::::::::.:.:.::::.::::.:.:..:.:..:...:::.:.:...........  ..:;+;........... . . .. .                  . ..::;;;+++++xXxxxxXX$XXX$$$&&&&&&&&&.                                                                                                                                                                                                
                                                       ::::::::::::::::::.:::.:.:::.:::.:.:.:.:.:.::::..:::...............  . :+x;.......... . . .. .. .      ..        . ...:;;;;++++xxxxxxxXXXXX$$&&&&&&&&&&;                                                                                                                                                                                                 
                                                      .::::::;;::::::::.:::::.:::::::.:.:.:...:.:...:...::...............    :+x;:.......... . .... ..       ..       . ....:;;;;++++xxxxxxxXXXX$$$$&&&&&&&&&+                                                                                                                                                                                                  
                                                      .:::::;;;:::::::::::::::::::::::.:::.::.:....:...::............. ..  . ;++:............ . .. ............     . .....:;;;;;++++xxxxxxXXXX$$$$&&&&&&&&&X                                                                                                                                                                                                   
                                                      :::::::;:::::::::::::.:::::;;::.:.:...:.......:..:................    .+x;:.......... . .. ..... .........  . .. ...:;;;;;;+++xxxxxxXXXX$$$$&&&&&&&&&$                                                                                                                                                                                                    
                                                     ::::::::::::::::::::::::::::;::.:.:.:.:......................... .    .;++;............... . .......... .... .......:;;;+;++++xxxxxxXXXX$$$$&&&&&&&&&&.                                                                                                                                                                                                    
                                                     ::::::::::::::;+::::::::::::::.:.:...:......................... .      ++;:.......... . ... .............. ... ...::;;+++;+++xxxxxxxXXXX$$$$&&&&&&&&&;                                                           . ...:.                                   .::;:.                                                                                          
                                                    .::::::::::::::;;::::::::::::.::.:.:.:.........................        :x+;........... . .. .......... ..........::;++++++++++xxxxxxXXXX$$$&&&&&&&&&&x                                                          ...:::::;:                               ..:::::;;;:                                                                                        
                                                    :::::::::::::::::::::::::::::...:............................. .       :x+;........ .. . .... .................:::;+++++++++xxxxxxxXXXX$$$$&&&&&&&&&X                                                .. .    .......:::;;;:                             . .::::::;;;;:                                                                                      
                                                   .:::::::::::::::::::::::::::::.:.:.............................         :++:............ ............. .......:::;;++++++++++xxxxxxXXXX$$$$&&&&&&&&&$                                               . .    ........::::::;++:                          ....::::;;;+++++;                                                                                     
                                                   ::::::::::::::::::::::::::::.:.............................. .          :+;......... ... ... ...............:::;;++++++++++xxxxxxxxXXX$$$&&&&&&&&&&&.                                            . .    .. ....:::;;;;;;;;+++.                       .. ..::::;+;;;;+++++                                                                                    
                                                   :::::::::::::::::::::::::::::...:......................... . .          :+;............. ........... . .:..:;;;;++++++++++++xxxxxxxXX$$$$&&&&&&&&&&;                                            . .  . . ..::;;;+++++++++xx++                     ..::..::::::;;;;;;;+++++                                                                                   
                                                  .:::::::::::::::::::::::::::...:.:....................... .. . .         :+:............ ............. .::::;;+;++++x+++++x+x+xxxxxXXX$$$&&&&&&&&&&+                                          . . .  . ...::::.::;;;;;++++;                    ....::::::::::::;;;;;++++x++:                                                                                  
                                                  :::::::::::::::::::::::::::.::.:.:..................... .. . .            ;:..............:......... ...::;;+++++++x+++++xxxx++xxxxXX$$$$&&&&&&&&&X                                              . .  . .:.                              ........::::::::::;::::;;;;++xxxX+;                                                                                  
                                                 .::::::::::::::::::::::::::::.:::.....................  .   .  .           .:........... ..:....... .. ..:;;+++++++x++++++x+x++xxxxXXXX$$&&&&&&&&&&          ......                          . .. .   ..:                            ..:.......::::::::;;;;;;;;;;;;;;+xxxxxx:                                                                                  
                                                 ::::::::::::::::::::::::::::.:::.:..:............... .     .                ..............::...... . . ..:;;++++++xx+++++x++++xxxxxXXXX$$&&&&&&&&&       .........                           .  .   . .                          .......:::::::;;;;;;;;;;;;;;;;;;+++;++++++;                                                                                   
                                                .:::::::;;;::::::::::::::::::::::..:............... .                       ..............:;;..... .   ....;;+++++xx++++x+++++xxxXxXXXX$$&&&&&&&&&;     ..........                          . . .  . .                         .......:::::;;;;+++++;;;;;;;;;;;;;;;;;;;+++;.                                                                                    
                                                .::::::;x+;:::::::::::::::::::::.:.:.............  .                        .............:;;;;..         ...;+++++++x+++++++xxxxXXXXX$$$$&&&&&&&&+     . . .......                          . . . . .                      ..:.....::::;;;+++xxx++;;;;;;;;;;;;;;;:;;;::.                                                                                        
                                                :::::::+Xx;:::;+;::::::::::::::.:.............. .          . .              .........:.::;+;;....          ..;++++++++++++xxxxxXXXX$$$$$&&&&&&&&X      . . .. . .                        . . .   .                     ..:......:::;;;+++xxXXx++;;;:                                                                                                            
                                               .::::::::;;;:::;;::::::::::::::.:.:............ .        . ..               .........::::;;;.....             .:++++++++++xxxxxXXXXX$$$$&&&&&&&&$       .. . .   .                           . .                     ..........::::;;+xxXXX+;:                                                                                                                   
                                               ::::::::::;;:::::::::::::::::.:.:........... .         .:::..            .  .........:.:;;;.......              .:++++++xxxxxXXXXXX$$$$&&&&&&&&&        ..       .                     .    . .. ..               .... .........::;xXXXX+:                                                                                                                       
                                              .::::::::::;;;;:::::::::::::::::.......... .. .       .:::::..  . .   .     .........:::;;;...... . .               .:;++++xxXXXXXXXX$$$&&&&&&&&;        ..       .                        . ......             .... .... ....::;+XXXX+.                                                                                                                          
                                              ::::::::::;;;;;;;;::::::::::::.......... . .       ..::;;:::. ...:..    . .  .......:.:;;:... . .. . .                 .:;+++++xxXXXXX$$&&&&&&&x         ..      .                        . .......         . .. . ...  ...:;;+xXX$x.                                                                                                                             
                                             .:::;:::::;;;;;;;;;:::::::::::..:::::... ..       ..:;;;::::...:::..  .      .........:;;... .. . . . . .. . . .           ..:;;+++xxXXX$$&&&&&X          ....     .                     . ..........    . . .. . .. ...:;;++xXXXX:                                                                                                                                
                                             .::;::::;;;;;;;;;;;;;;;;::::..::::::..... .     ..:;;;;:::::::::::...      .  ......:::....... . . .  . .        . .           ...:;;++xXX$&&&$            . .     .               .   . ............... .. . ......:;+++++xXXX;                                                                                                                                   
                                            .:::;:;::+Xx+;;;+;;;;;;::::.:::::::..... .     ..:;;;;::::::::::::::. . .    .......:........ . .. . .. . . .        . .            .....:;xXXX             ..      ..           ...  . .................. ........;+xXXxxXXXx                                                                                                                                      
                                            .:;;:::;;;++++++;;;;;;:::::::::;::.... .     ..:;;;;;::::::::::::::. .     .  .......:.:...... . ........... .          . . .   . .    . ......:.           . .     ..:.        ..   ................. . .......:;+xXXXXXXX;                                                                                                                                        
                                            ::;;:;;;++++++++;+;;;::::::::;;:..... .    ..:;;;;;::;;:;:::::::::..  . .   . .....:..:.::................... .. .    .    . .     ... . .  . ........      . .    ....::     ...  ............................;+xXXXXXXx.                                                                                                                                          
                                           .:;;;::;+++++++++++;;;:::::;;;:..... . .  .::;;;;;;;;;:;;:::::::::.. .     . . ......:..:.:....................... . .   .      .  .  . . ..... . . .......  .. .    ......   ... ............................;+XXXXXXX+                                                                                                                                             
                                           :;;;;:;;++++++++++++;;;;;;;;;.......    .:;;;+;;;;;;;:;:::::::::....  . .  .. . ...:..::::......:.:.:::::::............ . . .            .    . . . ......    .. . .  ... ...... ..........................:;+xxxxXXx;                                                                                                                                               
                                          .:;;;;;;;+++++++x+++;;;;;;;;...:...  ..:;;++++;;;;;;::::::::::::... . .    ... ......::::::.:.:::::::::::::::::.............. .. . . .      . . . . .            .        . ... . ...........:...........::;+++xXXXX+                                                                                                                                                 
                                          :;;;;;;;++++++++x+++++++;:..::::.::::;;+++++;;;;;;;:::::::::::....... ... . ........:::::::::::::::::::::::::................. . .... . . .    .  . . . .       . .     ...... ............:....:::...::;+++++xxxx+                                                                                                                                                   
                                         .;+;;;;;;++;+++++++++++;;:::::::;;++x+++++++;;;;;;:::::::::::............. ..:...:::..::::::::::::::::::::::::::::::.:.::.............. . . .... .. ..... .. . . . .    . . . . . . ......::.:::::::::;;++++++++++:                                                                                                                                                    
                                         :++;;;;;+++++++++x++++;;::::;++xxxxxxxxx++++;;;;;:::::::::::.............. ..:::::;;;:::::::::::::;:::::::::::::::::::::.:....:........................ .. .  . .    .. .. .   . .......::.::.::::::;;+++++++++++:                                                                                                                                                     
                                         ;++;;;;;+++++++++xxx++;;;+xxXxXxXxXXXXxx+++++;;::::::::::::....:....::::.. ...:::::;++;;;::::::::::;;;;::::::::::::::::::::::::::::........................ .. . .......... . . .......:.:::::::::::;++;;++;++++;                                                                                                                                                      
                                         ++;;;;;;;;;++++++xXxxxXXXXXXXXXXXXXXXxx++++++;;;;;:::::::::::::...::::::.. ..:::::::;++++++;::::::::::::;;;;;;;::::::::::::::::::........................... . . . ....:;:.  . .......:.::::::::::::;;;;;;+++++;:                                                                                                                                                      
                                         ++;:::;;;;;;++xxxXXXXXXXXXXXXXXXXXXxxxxxxx++;;;;;::::;:::::::::..::;:::::...:::;;;;;;+xxx++++;:::::::;;;;;;;;;;::::::::::::::::::::::........:........... . . ... .....;;. . . ......:::::::.:...:::;;;;;;;;;;;+;:                                                                                                                                                     
                                         ;+;::.::;;;;++xXXXXXXX$X$XXXXXXXXXxxxxxXXXx+++;;;;;;;:::;;;;::.:;;:::::::;:::;;++;++;;++xXXxxxx+;::::::;;;;;;;;;;;;;;;;:::::::::::::::::::::::::............... ......;+: . . .....::.::::::.....:.:;;:::::::;;;;;;:                                                                                                                                                   
                                         ;+;::...::;;++xXXXXXX$$$$XXXXXXXXXXXXXXXXxx++++;;;;;::;;;;;::::;;::::::;;:;;;;++++++++++++xXX$$$XXx+;;:::;;;;;;;;;+;;;;;;;;;;;;::::::::::::::::......................:x+.  . .......:::::..........:;; ....:::::;;;;;:                                                                                                                                                 
                                         :+;::::..::;+++xXXXXX$$$$$$XXXXXXXXXXXXXXx+++++;;;;;;;;;;;;;;;;;::::::;;;;;;;+++++++++++xxxxxX$$$$&&&$$x+;;;;;;;;;;+++++;;;;;;::::::::::::::::::.:::.............:...+x:  . ......:.::::::::........::      ..:::::;;;;;:                                                                                                                                              
                                          xx+;;::..:;;;+xXXXXX$$$$$X$$$$$$XXXXXXxxx++++++;;;;;;;;;;;;;;::::::;;;;::;;++++++++++++xxxxxXXX$$$$$&&&&&Xx+;;;;;;;++++++++;;;;;::::::::::::::::::.:..........:::..+X+  ........::::::::::::..........          .:::::::::.                                                                                                                                           
                                          ;Xx++;:::::;;+++xXX$$$$$$$$$$$$$XXXXXxxx+x++++++;;+++;;;;;;;;;;:;;;;;;;;+++++++++xx++++xxXXxXXX$$$$$&&&&&&&&&$x+;;;;;+++++++++;;;::::::::::::::::::.::...:..::::..+Xx. .........:::::::::::::.............            .::::::.                                                                                                                                        
                                           xXXx+;:::;;++xXXX$$$$$$$$$$$$$$XXXXXXXXxxxxxx++x++++;;++;;;;;+++++++;;+++++++++xXxxx++XXXXXXX$$$$$$&&&&&&&&&&&&$x++++++++++++++;;;;;;:::::::::::::::.:::::::::.:+$X+. .......:::::::::::::::...............              .::::::.                                                                                                                                    
                                            +XXXxxx++++xxXXXX$&$$$$$$$$X$X$XXXXXXXxxxxxxxx+++++++++;++++++++++;;++++++++xXXxxxxxXX$$$$X$$$$$&&&&&&&&&&&&&&&&&Xx+++++++++++++++++;;;;;:::::::::::::::::::::+X$X;........::::::::::::::::::......::;;;;;:::..           ..:.::::::.                                                                                                                               
                                             :XXXXXXXXXXxxxX$&&&&&$$$$$$$$$$$XXXXXXXXXxxxx+++++++;++++++xxxxx++++++x++xxxXxXXXXXX$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&X+++++++++++++++++;;;;;;;;;:::::;;;;;;::;xX$$+:......::::::::::::::;+++;....::;;;;+++++++;;;;;;:::... . .:::::::::::.........:::...::::                                                                                                         
                                                ;+xxxxxxx+++xXXX$$$$$$$$$$XXXXXXXXXXXXXXXxxx++++++++++xxxxxxXxxxXXXxxXxXXXXXXXXX$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&Xx+++++++++++++++++++++;;;;;;;;;;:::;+X$$X;..:::::::::::::::;;+++++++;;;;++xxxxxxxxxxxxxxxx++++++;;;;::::::::::::::::::::;;;:....:::                                                                                                         
                                                      ++++++++++++;;;;;;;;;;;:;;;;:;;;;+xXXXXXXXXxxx++++++++++xxxXXXXXXXXXXX$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$Xx+++++++++++++++++++++++;;;;;;;+xXXX+::::::;;;;;::::::;;;;;++++xXXXX$$$$&&&&&&&&&&&&&&$$$$XXxx++++++;;;;;::::::::;;;;;::...:;;:.                                                                                                        
                                                      +++++++++++++++;;;::::..............:;+X$$$$$XXXXXXxxxxxXXXX$$$$$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&X+xx+++++++++++x+xxxxx+++++++++XX+;;::;;;;;;;;;;;;;;;;;;+++xXXX$$$&&&&&&&$$XXXXXXX$$$&&&&&&&$$$$XXXXxxx+++++;;;;;;+;;::::.::;;:                                                                                                        
                                                      ;+++++++++++;;;;:::::....................:+xX$$$&$$$$$$XXX$$$$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&X        :;+++++++xxx++++++++++xX++;;;;++++;;;;;;;;;++++xXXXX$$$$$&$X+:                    :+X$&&&&$$$$$XXXxxx++++;;;;::::::;;+:                                                                                                        
                                                      ;++++x++++;;;;::::::::::.:..:................:+X$&&&&&&&&&&&$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&X               .:++++++++++xxxXXx++++++++++++++++++++xxxxXXxx+:                                   :+$$&&&$$XXXXxx+;;;;::::;;;++;                                                                                                        
                                                      ;x+xxx+++++;;;:::::::::::.:..:.:...............:+X$&&&&&&&&&&&&&$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&+                       :;++xXX$$$XxxxxxxXxXxXxXXxxx++;:.                                                .+X$&$$$XXXx+;;;;:;;;;;+:                                                                                                        
                                                      :xxxxxxx++++;;;;:::::::.:.:.:.:.:.:.:.:..........:;+X&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$                                   ....:...                                                                    :X$$XXx++;;;;:;;;;;                                                                                                         
                                                       xXXXxxxx+++++;;::::::::.:.:.:.:..:..:.:............:+X&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$                                                                                                                    .x$Xx++++;;;;;;                                                                                                          
                                                        xXXXxXxxx++++;;::::::::::.:.:.:..:.:................:+$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$$&&&&&&+                                                                                                                         ;XXx+++;;;;.                                                                                                          
                                                         ;XXXXXXXXxx+++;;;;:::::::.:...:....:.:...............;x$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$XXXXXXXX$&$.                                                                                                                             ;XXx++;;.                                                                                                           
                                                           +xxxxxxxxxxxxx+++;;:::::.::..:.::....:..............:;X&&&&&&&&&&&&&&&&&&&&&&&&&&&&XXXXXXXX$$$&$x                                                                                                                                    .:.                                                                                                             
                                                          .:;;;;;;++++++xxxx++;;:::::::::::::::..:.:......:......:+$&&&&&&&&&&&&&&&&&&&&&&&XXXxxXXXXX$X$$$$:                                                                                                                                                                                                                                                    
                                               ..::::::::::::::::::::;;;+++xxx++;;;:::::::::::::::.:::.....:.......;X&&&&&&&&&&&&&&&&&&&$XxxxxxxxxXXXXXX$X:                                                                                                                                                                                                                                                     
                                         ..:::::::::::::::::::::::::::::;;;++xxx+++;;;;;;::::::::::.:.:::.:.::......:+X$$$$&&&&&&&&&&&&X++++x++xxXXXXXXx:                                                                                                                                                                                                                                                       
                                      .::;;;;;;;;;;;;;;:;:;:::::::::::::::::;;+++++++;;;;;;;::::::::::::::::::::......;xXXXXXX$&&&&&&&x+x++++xxXXXXXX;                                                                                                                                                                                                                                                          
                                   .::;;::;;;::::::::::::::::::::::::::::::::::;;++x+++++;;;;;:::::::::::::::::::......:+XXXXXXX$&&&$++++++++xxXXXX:                                                                                                                                                                                                                                                            
                                  ::;::::::::::::::::::;;;;;;;;;:::::::::::::::::::;+xx++++;;;;;:::::::::::::::::::......;xXXXXXXX$X++++++++++XXX;                                                                                                                                                                                                                                                              
                                .:::::::.....::::::::;;;;;;;;;;;;;;::;;;;;:::::::::::;+xx+++;;;;;;;::::::::::::::::::. ...:xXXXxxXx+++++++++++Xx                                                                                                                                                                                                                                                                
                               .::::::.....:::::::;;;;;;:::::::;;;;;;;;;;;;;;;;::::::::;+xx++;;++;;;;;;:::::::::::::::.....:+XXX++++++++++;;+x+                                                                                                                                                                                                                                                                 
                              .:::::.....:.:::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;++;;::;+xx+;;+++;;;++;;;::::::::::::.....:+XXx+++++++++;;x+                                                                                                                                                                                                                                                                  
                              ::::..:..:.::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+++;;::+xx++;++++;+++;;:::::::::::::;:...:xxxxxx+++;+;;+X                                                                                                                                                                                                                                                                   
                             :::::::.:::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;++x++;::+xx++;++++;;+;;;:;;::::::::::;:..:+xxXXXx++++;;++                                                                                                                                                                                                                                                                   
                             ::;:::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+x++;;:;+x+++++++;;;;;;;;;:::::::::;;:.:+XXX$Xx+++;;;;;                                             .;++;                                                                                                                                                                                                                 
                            ;;;;;;:::::::;;;;;;;;;;;;;+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+xx+;;:;xx+;+++++;;;;;:;;;:::::;::;;:.:+XX$$Xx+++;;++;                                           :++++++++:                                                                                                                                                                                                              
                            ;;;;;;::;:::;;;;;;;;;;;;;+;;;++++;;;;;;;;;;;;;;;;;;;;;;;;;;;++xx+::+x++++++;;;;;;;;;;;;:;:;;;;;;::+$$$$Xx+++;;;+++:                                      :;++xxxxxxx+++                                                                                                                                                                                                             
                            +++++;;;;;;;;;;;;;;;;++++++++++++++;;;;+;;++++;;;;;;;;;;;;;;;;;+++;;+x+++++++;;;;;;;;;;;;;;;;;;;;;x$$&&$X++++;;;+++;                              :;++xxxxxxxxxxxxxx++++.                                                                                                                                                                                                           
                           :XXXx++++++++++++++++++++++++;+++++++++++++++++;;;;;;;;;;;;;;;;;;;+++;x++++++++;;;;;;;;;;;;;;;;;;;+X$&&&&X+++++;;;++++:                      :;+xxxxxxxxxxxxxxxx++++++++x+                                                                                                                                                                                                           
                           ;XXX$$Xx+++++++++++++++++++++++++++++++++++++;;;;;;;;;;;+;;;;;;;;;;;+++++++++++;;;;;;;;;;;;;;;;;;;xX$&&&&$xxxxx++;;;++++.               :+xxxxxxxxXXxxxxxxx++++++++++;;+++                                                                                                                                                                                                           
                           ;XXX$&$Xxxxxxxxxxx+x++++++++++++++++++++++++++++;;;;;;;;;++++;;;;;;;;;++;;+++++;;;;;;++;;;;;;;;+++X$$&&&&&$$XXxXxx++++++++;:     .:;+xxxxxxxxXXXXXXXXxxxxxxXXxxx+x+++++++:                                                                                                                                                                                                           
                           :X$$$$&$XXXxXXXxxxxx+x++++++++++++++++++++++++++++++++++++++++;+;;;;;;;;+;;+;;;;;;;;;+++;;;;;++++xX$&&&&&&&$$XXXXXxxxxxxxxxxxxxxXxXxxxxxxXXXXXXXXXXXXXXXXXXXXXXXxxx+++++:                                                                                                                                                                                                            
                            X$$$$&&$XXXXXXXXXxxxxxx+++++++x++++++++++++++++++++++++++++++++;;;;;;;;;;;;;;;;;;+++++++;;+++++XX$&&&&&&&&&$$XXxxxxxxXxxxXXxxxxxxxxxxXXXXXXXXXXxXXXXXXXXXXXXXxxx+++++.                                                                                                                                                                                                              
                            ;XXX$$&&$XXXXXXXXXXxxxxxxxxxxxxxxxx++xxxxxx++++++++++++++++++++++++++++;;;;;;;;;++++++;;+++++++X&&&&&&&&&&&$$XXXXXXXXXXXXxxxxxxxxXXXXXXXXXXXXXxxxxxxxxXxXXXXxxxxx++.                                                                                                                                                                                                                
                             +XXX$$&&&$$XXXXXXXXXxxxxxxxxxxXxxxXXXXxxx++x+++++++++++++++++++++++++++++;;;;+++++++++++++++xX&&&&&&&&&&&&&$$$XX$$XXXXXXxxxxXXXXXXXXXXXXXXXXx+;.                                                                                                                                                                                                                                   
                              xXXX$$&&&&$XXXXXXXXxxxxxxxXXXXXXXXXXXXXXXx++++++++++++++++++++++++++++;++++++++xxx+++++xxxX&&&&&&&&&&&&&&&$$$$$$$$$XXXXXXXXXXXXXXXXXXXXXXX:                                                                                                                                                                                                                                       
                               +XXXX$&&&&&$XXXXXXXxxXxxXXXXXXXXXXXXXXXxxxx+++++++++++++++++++x+++++++++++xxxXXXxxxxXXX$&&&&&&&&&&&&&&&$$$$$$$$$$XXXXXXXXXXXXXXXXXXXXXXx                                                                                                                                                                                                                                         
                                ;XXXXX$&&&&$XXXXXXXxxXXXXXXXXXX$$$$$$XXXXXxx+++++++++++++++xxxx+++++++xxxXXXXXXXXXX$&&&&&&&&&&&&&&&&&&&$$$$$$XXXXXXXXXXXXXXXXXXXXXXXXx.                                                                                                                                                                                                                                         
                                 .xXXXXX$&&&&$$XXXXXXXXXXXXX$$$$X$X$X$XXXXXXxxxx+++++++xxxxxXXXxxXXXXXXXXXXXXX$$&&&&&&&&&&&&&&&&&&&&&$$$XXXXXXXXXXXXXXXXXXXXXXXXXXxxx:                                                                                                                                                                                                                                          
                                   :xXX$$$$&&&&$$XXXXXXXXXXXXXXXX$X$XXXXX$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$&&&&&&&&&&&&&&&&&&&&&$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxx+                                                                                                                                                                                                                                           
                                     ;xXX$$$$$&&&&&$$XXXXXXXXXXXXXXXXXXX$$$$$$XXXXXXX$$XXXXXXXXXXX$$$$$XX$&&&&&&&&&&&&&&&&&&&&&&$$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXx;                                                                                                                                                                                                                                           
                                       :xX$$$$$&&&&&&&&&$$XXXXXXXXXXXX$XX$XXXX$XX$XXXX$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX+                                                                                                                                                                                                                                           
                                          +X$$$$&&&&&&&&&&&&&&$$$$$XXX$$$XXXXXX$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$XXXxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;                                                                                                                                                                                                                                          
                                            :X$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$XXx++xxXXXXXXXXxXxxxxXXXxxxXXXXXXXXXXXXXXXX;                               .:;+++;                                                                                                                                                                                                  
                                               ;X$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$XXx+++xXxxxxxxxxxxxxXxxxXxxXxxxxXXXXxxXXXXXXXXXX;.                     :++xx++++++++:                                                                                                                                                                                                
                                                  :x$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$$$$XXxx+++++++xxxxxxxxxxxxxxxxxxxxXxXxxxxxxxxxxxxXXXXXXXXXx+;:          .;++xxxxxxxx+x+xx++:                                                                                                                                                                                               
                                                     :XX$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$&$$$$$$$$$$$$$$$$$$XXXx++xx+++++xxxxxxxXXXXxxxxxx+x+xx+xxxxxxxxxxxxxx++++xxxxxxxxxxxxxxxxxxxx++++++xxxxxxx+++++++:                                                                                                                                                                                              
                                                         :+X$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$$$XXXXXXXxxxxxxxxxx++++;;++++xxxxXXXXX$$XXXxxxxxx+x+++++++xxxxxxxxxxxxxx+++++++++++++++++++++++++++xxxxxxxx++++++                                                                                                                                                                                              
                                                              :+X$$&&&&&&&&&&&&&&&&&&&&&&&$$$$$$$$$$XXXXXxxxxxxXx++++;;;;;;;+++xXXXXXX$$$$$$$$Xxx+++xxxxXXXXXXxxXxXXXXXXXXXXxXxXxxxxxxxxxxxxxxxxxxXXxxxxxxxxxxx+++:                                                                                                                                                                                             
                                                                    ;+X$&&&&&&&&&&&&&&&&$$$$$$$$$$$$$$XXXXXXXXX+++++;;;;;;;;++xxxxXXXXX$$$$$$$XXXXXXXXXXXXXXXXXXX$$$$$$$$$$$XXXXXXxxxxxxxxXX$$XX$$XXXXxxxxxxxxXXXx:                                                                                                                                                                                             
                                                                          :+X$&&&&&&&&&&&&&&$$$$$$$$$$$$$$$$XXXXx+++++++;;;;++xxXXXXX$X$$$$$$$$$$XXXXxXXXXXXXXXXXXXXXXXXXxxxxx+++xXX$$$$$$$$$$$$$$$$$XXXXXxxxXXXXx                                                                                                                                                                                              
                                                                                 ;x$$&&&&&&&&&&&&$$$$$$$$$$$$$XXXXXxxx++++++++++xXXXXXXXXXXXXxXxx+++++++++++++++++++xxxxxxxxxxxX$$$$$XXXX$$$$$$$$$$$$$XXXXXXXX$$+                                                                                                                                                                                               
                                                                                       .;+X$&&&&&&&&&&&$$X$$$$$$$XXXXXXx++++++;;+xXX$$$$$$XXXXXxxxx+x+++xxxxxxxxxxxxxxXxxXXXxx++;;;::;;;++XXX$$$$$$$$$$$$$$$$$x                                                                                                                                                                                                 
                                                                                               .+X$&&&&&&&&&$$$$$$$$$$XXx++++;;;;++XX$$&$$$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXx;                      :+X$$$$$$$$$$;                                                                                                                                                                                                  
                                                                                                        :;+xXXX$$$&$$$$Xxx+;;;;;;;++xX$$&&&$X$$$$$$$$$$$$$$$$$Xx+:.                                  .;X$$$+                                                                                                                                                                                                    
                                                                                                                    .$$$XXx++++;;;;+xxXX$$&&$$$$$$$$$$$$$$X;                                                                                                                                                                                                                                                    
                                                                                                                      X&$XXXXxx++++++xxXXX$$$$$$$$$$$$$$x                                                                                                                                                                                                                                                       
                                                                                                                       +&$$XXXXxx+++++xXXX$$$$$$&$$$$&X                                                                                                                                                                                                                                                         
                                                                                                                        .$&$XXXXXXxx+++xXX$$&&&&&&&&&X                                                                                                                                                                                                                                                          
                                                                                                                          :$$$XXXXXXxxxxXXX$&&&$&&&&$.                                                                                                                                                                                                                                                          
                                                                                                                            ;$$$XXXXXXXXxXX$&&$$$&&$;                                                                                                                                                                                                                                                           
                                                                                                                              +$XXXXXXXXXXX&&&$$$&$+                                                                                                                                                                                                                                                            
                                                                                                                                +XXXXX$$XXX$$$$$$$X                                                                                                                                                                                                                                                             
                                                                                                                                  xXX$$XXXX$XXXX$$:                                                                                                                                                                                                                                                             
                                                                                                                                   :X$$XXXXXXXXX$x                                                                                                                                                                                                                                                              
                                                                                                                                    .$$XXX$XxxX$$                                                                                                                                                                                                                                                               
                                                                                                                                    :$$XXXXX++X$+                                                                                                                                                                                                                                                               
                                                                                                                                    ;$$XxXXX++XX:                                                                                                                                                                                                                                                               
                                                                                                                                    ;$$Xx+XXx+xx                                                                                                                                                                                                                                                                
                                                                                                                                    +$$X+xXXXxXx.                                                                                                                                                                                                                                                               
                                                                                                                                    +$$XxXXXXXXX;                                                                                                                                                                                                                                                               
                                                                                                                                    ;$XXXXXXXXXXX                                                                                                                                                                                                                                                               
                                                                                                                                     $$XXXXXXXXXXX.                                                                                                                                                                                                                                                             
                                                                                                                                     +$$$$$XXXXXXXX:                                                                                                                                                                                                                                                            
                                                                                                                                      X$$$$$XXXXXXXX+                                                                                                                                                                                                                                                           
                                                                                                                                      ;X$$$$XXXXXXXXXX:                                                                                                                                                                                                                                                         
                                                                                                                                      .X$$$$$XX$XXXXXXX+                                                                                                                                                                                                                                                        
                                                                                                                                      :X$$$$XXX$$XXXxXXX+                                                                                                                                                                                                                                                       
                                                                                                                                       X$$$$X$$$$$XXXXXXX:                                                                                                                                                                                                                                                      
                                                                                                                                       X$$$$$$$$$$XX$$$XX:                                                                                                                                                                                                                                                      
                                                                                                                                       +$$$$$$$$$$$$$$$X;                                                                                                                                                                                                                                                       
                                                                                                                                       :$$$$$&$&$$$$$$+                                                                                                                                                                                                                                                         
                                                                                                                                        X$$&&&&$$$$$x                                                                                                                                                                                                                                                           
                                                                                                                                        ;$$&&$$$$$+                                                                                                                                                                                                                                                             
                                                                                                                                         ;$$$$$x.                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                        
`.trimEnd();

/* ===== 2) Mouth + targets configuration ===== */
let MOUTH_ROW = 44;
let MOUTH_COL = 70;
let MOUTH_W   = 252;
let MOUTH_H   = 12;
let MOUTH_ROT_DEG = -16;

/* --- Fixed tip targets (ABSOLUTE coordinates) --- */
const FIXED_TIPS = [
  { row:  74, col: 345, word: "Nothing" },
  { row:  95, col: 344, word: "To"      },
  { row: 119, col: 331, word: "See"     },
  { row: 148, col: 316, word: "Here"    },
];

/* Mouth lock / guide */
const LOCK_MOUTH = true;
let showGuide = false;

/* ===== Tongue configuration (independent of mouth) ===== */
let TONGUE_ROW = null;        // null = default to mouth center until set
let TONGUE_COL = null;
let TONGUE_THICK = 3;
let TONGUE_LOCK = false;      // T to toggle lock

/* ===== 3) Animation timing ===== */
let FPS = 30;
const OPEN_STEPS   = 8;     // frames to open/close
const EXT_SPEED    = 3;     // chars/frame (extend)
const RET_SPEED    = 4;     // chars/frame (retract)
const MAX_LEN      = 10000; // allow long reaches
const HOLD_FRAMES  = 8;     // pause at full extension
const SEG = '='; const TIP = '';

const baseEl = document.getElementById('base');
const ovEl   = document.getElementById('overlay');
const wordsEl = document.getElementById('words');
const lines0 = ART.split('\n');

/* ---------- rotated-oval mouth, opens top  bottom (width fixed) ---------- */
function carveMouth(srcLines, open01){
  const W = Math.max(1, MOUTH_W);
  const H = Math.max(1, Math.round(MOUTH_H * open01)); // opening height grows downward
  const lines = srcLines.map(s => s.split(''));

  const cx = MOUTH_COL + Math.floor(W / 2);
  const cy = MOUTH_ROW + Math.floor(MOUTH_H / 2);

  const a  = W / 2;
  const b  = Math.max(0.5, H / 2);
  const th = (MOUTH_ROT_DEG * Math.PI)/180;
  const cos = Math.cos(th), sin = Math.sin(th);

  for (let r = 0; r < H; r++){
    const rr = MOUTH_ROW + r;
    if (rr < 0 || rr >= lines.length) continue;
    for (let c = 0; c < W; c++){
      const cc = MOUTH_COL + c;
      if (cc < 0) continue;
      while (cc >= lines[rr].length) lines[rr].push(' ');

      const dx = cc - cx, dy = rr - cy;
      const xr =  dx * cos + dy * sin;
      const yr = -dx * sin + dy * cos;

      if ((xr*xr)/(a*a) + (yr*yr)/(b*b) <= 1) {
        lines[rr][cc] = ' ';
      }
    }
  }
  return lines.map(a=>a.join('')).join('\n');
}

/* ==================== GRID HELPERS ==================== */
function rowsToString(rows) {
  const maxR = rows.size ? Math.max(...rows.keys()) : 0;
  const out = [];
  for (let r = 0; r <= maxR; r++) {
    const a = rows.get(r);
    if (!a) { out.push(''); continue; }
    a.sort((x,y)=>x[0]-y[0]);
    let s='', last=-1;
    for (const [col,ch] of a){
      if (col>last+1) s += ' '.repeat(col-(last+1));
      s += ch; last=col;
    }
    out[r]=s;
  }
  return out.join('\n');
}
function putChar(rows, r, c, ch){
  r = Math.round(r); c = Math.max(0, Math.round(c));
  if (r < 0) return;
  const a = rows.get(r) || [];
  a.push([c, ch]);
  rows.set(r, a);
}

/* ---------- tongue origin ---------- */
function originForShot(){
  if (TONGUE_ROW != null && TONGUE_COL != null) {
    return { row: TONGUE_ROW, col: TONGUE_COL };
  }
  return {
    row: MOUTH_ROW + Math.floor(MOUTH_H / 2),
    col: MOUTH_COL + Math.floor(MOUTH_W / 2)
  };
}

/* ---------- draw tongue, return tip coords ---------- */
function drawTongueGrid(len, row0, col0, angleDeg, thick=1){
  const rows = new Map();
  if (len<=0 || thick<=0) return { rows, tipR: row0, tipC: col0 };

  const rad = angleDeg * Math.PI/180;
  const dx = Math.cos(rad), dy = Math.sin(rad);
  const px = -Math.sin(rad), py = Math.cos(rad);

  const half = Math.floor((thick-1)/2);
  const offsets = Array.from({length:thick}, (_,i)=> i-half);

  // shaft
  for (let i=0;i<Math.max(0,len-1);i++){
    for (const s of offsets){
      const rr = row0 + dy*i + py*s;
      const cc = col0 + dx*i + px*s;
      putChar(rows, rr, cc, SEG);
    }
  }

  // tip (center strand)
  const tipR = row0 + dy*(len-1);
  const tipC = col0 + dx*(len-1);
  putChar(rows, tipR, tipC, TIP);

  return { rows, tipR, tipC };
}

/* ---------- simple guide (optional) ---------- */
function addGuideToRows(rows) {
  for (const t of FIXED_TIPS) putChar(rows, t.row, t.col, '');
}

/* ---------- distance + angle from origin to a TIP ---------- */
function vecFromOriginToTip(tip){
  const o = originForShot();
  const dx = tip.col - o.col;
  const dy = tip.row - o.row;
  const angle = Math.atan2(dy, dx) * 180/Math.PI;
  const dist  = Math.ceil(Math.hypot(dx, dy)) + 1; // +1 so TIP lands exactly
  return { angle, dist };
}

/* ---------- viewport fit (compute transform for <pre> and expose to words.js) ---------- */
let viewScale = 1, viewOffX = 0, viewOffY = 0;
function fit(){
  baseEl.style.transform = ovEl.style.transform = 'scale(1)';
  requestAnimationFrame(()=>{
    baseEl.textContent = carveMouth(lines0, open01);
    const pad=12, maxW=innerWidth-pad, maxH=innerHeight-pad;
    const w=baseEl.scrollWidth, h=baseEl.scrollHeight;
    const scale = Math.min(maxW/w, maxH/h, 1);
    const offX = Math.max((maxW - w*scale)/2, 0);
    const offY = Math.max((maxH - h*scale)/2, 0);
    const t = `translate(${offX}px, ${offY}px) scale(${scale})`;
    baseEl.style.transform=t;
    ovEl.style.transform=t;

    viewScale = scale; viewOffX = offX; viewOffY = offY;
    window.__eyefrogView = { scale: viewScale, offX: viewOffX, offY: viewOffY };

    // re-layout words when viewport changes
    if (window.updateWordsOverlay) window.updateWordsOverlay();
  });
}
addEventListener('resize', fit);

/* ---------- state machine ---------- */
let phase='open', frame=0, open01=0, L=0, shotIdx=0;
let stickyWords = [];         // keep words until loop restarts
window.stickyWords = stickyWords; // expose to words.js
let lastTip = { r:null, c:null };

function step(){
  const o = originForShot();
  const target = FIXED_TIPS[shotIdx] || FIXED_TIPS[FIXED_TIPS.length-1];
  const { angle, dist } = vecFromOriginToTip(target);
  const need = Math.min(dist, MAX_LEN);

  switch(phase){
    case 'open':
      open01 = Math.min(1, (frame+1)/OPEN_STEPS);
      if (open01>=1){ phase='extend'; frame=-1; }
      break;
    case 'extend': {
        L = Math.min(need, L + EXT_SPEED);
        if (L>=need){ L=need; phase='hold'; frame=-1; }
      } break;
    case 'hold':
      // stamp the word exactly at the TIP location for this shot (only once)
      if (frame === 0) {
        stickyWords.push({ row: target.row, col: target.col, text: target.word });
        window.stickyWords = stickyWords; // keep reference fresh for words.js
      }
      if (frame>=HOLD_FRAMES){ phase='retract'; frame=-1; }
      break;
    case 'retract':
      L = Math.max(0, L - RET_SPEED);
      if (L<=0){
        shotIdx++;
        if (shotIdx >= FIXED_TIPS.length){
          // loop restart: clear all words and start over
          shotIdx = 0;
          stickyWords = [];
          window.stickyWords = stickyWords;
          wordsEl.innerHTML = '';   // clear DOM words
          phase='close';
        } else {
          phase='extend';
        }
        frame=-1;
      }
      break;
    case 'close':
      open01 = Math.max(0, 1 - (frame+1)/OPEN_STEPS);
      if (open01<=0){ phase='open'; frame=-1; }
      break;
  }
  frame++;

  // Base
  baseEl.textContent = carveMouth(lines0, open01);

  // Overlay: tongue + optional guide (NO words here)
  const { rows, tipR, tipC } = drawTongueGrid(L, o.row, o.col, angle, TONGUE_THICK);
  lastTip = { r: tipR, c: tipC };
  if (showGuide) addGuideToRows(rows);
  ovEl.textContent = rowsToString(rows);

  // DOM words overlay (separate layer)
  if (window.updateWordsOverlay) window.updateWordsOverlay();
}

baseEl.textContent = ART;
let timer = setInterval(step, 1000/FPS);
document.addEventListener('visibilitychange', () => {
  if (document.hidden){ clearInterval(timer); timer=null; }
  else if (!timer){ timer=setInterval(step, 1000/FPS); }
});

/* ---------- hotkeys ---------- */
addEventListener('keydown',(e)=>{
  if (e.key.toLowerCase() === 'l') {
    console.log("MOUTH_ROW =", MOUTH_ROW);
    console.log("MOUTH_COL =", MOUTH_COL);
    console.log("MOUTH_W   =", MOUTH_W);
    console.log("MOUTH_H   =", MOUTH_H);
    console.log("MOUTH_ROT_DEG =", MOUTH_ROT_DEG);
    const o = originForShot();
    console.log("TONGUE_ORIGIN row=", o.row, "col=", o.col);
    if (lastTip.r != null) console.log(`TONGUE_TIP row=${Math.round(lastTip.r)} col=${Math.round(lastTip.c)}`);
  }

  if (!LOCK_MOUTH) {
    if (e.key==='ArrowUp')   { MOUTH_ROW--;  fit(); }
    if (e.key==='ArrowDown') { MOUTH_ROW++;  fit(); }
    if (e.key==='ArrowLeft') { MOUTH_COL--;  fit(); }
    if (e.key==='ArrowRight'){ MOUTH_COL++;  fit(); }
    if (e.key==='[') { MOUTH_W=Math.max(1,MOUTH_W-1); fit(); }
    if (e.key===']') { MOUTH_W+=1;                     fit(); }
    if (e.key==='{') { MOUTH_H=Math.max(1,MOUTH_H-1);  fit(); }
    if (e.key==='}') { MOUTH_H+=1;                     fit(); }
    if (e.key===',') { MOUTH_ROT_DEG = Math.max(-45, MOUTH_ROT_DEG - 1); fit(); }
    if (e.key==='.') { MOUTH_ROT_DEG = Math.min( 45, MOUTH_ROT_DEG + 1); fit(); }
  }

  // T: toggle lock and print immediate origin + current tip
  if (e.key.toLowerCase() === 't'){
    TONGUE_LOCK = !TONGUE_LOCK;
    const o = originForShot();
    console.log(`TONGUE_ORIGIN row=${o.row} col=${o.col}`);
    if (lastTip.r != null) console.log(`TONGUE_TIP row=${Math.round(lastTip.r)} col=${Math.round(lastTip.c)}`);
  }

  // Move origin with WASD when unlocked (tips remain fixed)
  if (!TONGUE_LOCK){
    const oNow = originForShot();
    if (TONGUE_ROW==null) TONGUE_ROW = oNow.row;
    if (TONGUE_COL==null) TONGUE_COL = oNow.col;
    if (e.key.toLowerCase()==='w'){ TONGUE_ROW -= 1; }
    if (e.key.toLowerCase()==='s'){ TONGUE_ROW += 1; }
    if (e.key.toLowerCase()==='a'){ TONGUE_COL -= 1; }
    if (e.key.toLowerCase()==='d'){ TONGUE_COL += 1; }
  }

  if (e.key==='<'){ TONGUE_THICK = Math.max(1, TONGUE_THICK-1); }
  if (e.key=='>'){ TONGUE_THICK = Math.min(20, TONGUE_THICK+1); }

  if (e.key==='+' || e.key==='='){ FPS=Math.min(120,FPS+5); restart(); }
  if (e.key==='-' || e.key==='_'){ FPS=Math.max(5,FPS-5);  restart(); }
  if (e.key.toLowerCase()==='g'){ showGuide=!showGuide; }
  if (e.key.toLowerCase()==='p'){
    if (timer){ clearInterval(timer); timer=null; } else restart();
  }
});
function restart(){ clearInterval(timer); timer=setInterval(step, 1000/FPS); }

/* kick things off */
fit();
</script>

<!-- Keep words.js last so it can read window.__eyefrogView & stickyWords -->
<script src="words.js"></script>
