<!doctype html>
<meta charset="utf-8" />
<title>eyefrog</title>
<style>
  body{
    background:#000;
    color:#0f0;
    font-family:monospace;
    display:flex;
    align-items:center;
    justify-content:center;
    height:100vh;
    margin:0;
  }
  pre#screen{ font-size:3px; line-height:1; margin:0; }
  #hud{
    position:fixed; left:6px; bottom:6px; color:#0f0; font-size:12px;
    font-family:monospace; user-select:none; opacity:.85;
  }
</style>

<pre id="screen">loading…</pre>
<div id="hud"></div>

<script>
/* =========================
   0) Your frog ASCII (background)
   Paste the frog ASCII between the backticks below.
   ========================= */
const frogArt = `
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                            .  .                                                                                                                                                                                
                                                                                                                                                                                                                       ... . .  . . .                                                                                                                                                                           
                                                                                                                                                                                                                    ...   .   .  . . . . .                                                                                                                                                                      
                                                                                                                                                                                                                 ...  . .     . ......... . .                                                                                                                                                                   
                                                                                                                                                                                                              .:... .. .... .... ............ .                                                                                                                                                                 
                                                                                                                                                                                                            ::.............:::::::..............                                                                                                                                                                
                                                                                                                                                                                                          .::......::::;;+++x+++++++++;:.........                                                                                                                                                               
                                                                                                                                                                                                         :::.....:;++++xxxx+;:........:;;;::.......                                                                                   ..:.                                                                      
                                                                                                                                                                                                        ;::....::+++xxxXx+;::..          ..:::......                                                                              ..::;;;;;:                                                                    
                                                                                                                                                                                                       ;::...::;+xxxxx+;::...               .:::.....                                                                         ..:::::;;;;;;;:                                                                   
                                                                                                                      ....:::::::::..                                                                 :;::..:;;++xxx+;:.. .                  .:;:....                                                                      ...:::::;;;::;;;;;:                                                                  
                                                                                                                  ::.... .    . . ...:..                                                              ;::.::;;+xxxX+;:..                       :;:....                                                                  ....::::;;;;;;;;;;+++;                                                                  
                                                                                                               .:.....      .        ......                                                          :;::.:;;++xxx+;:..  .::.                   :;:..:.                                                               . ..:::::;;;;;;+;++;++x+                                                                  
                                                                                                              :...   .       . .. . . .. .....                                                       ;;::::;++xxxx;:.. :$&&&X:    :.             :;:.::                                                              . . ...::;++++++x+xx++xx+                                                                  
                                                                                                            ........  ................ .........                                                     ;:::::;+xxxx+;:.:$&&&&&&x  ;$&&$.            ::..::                                                          .::::::;;;+++++xxXXXXXXXXX+                                                                   
                                                                                                          ...... . ...............................                                                   ;::::;;+xxxx+:.:$&&&&&&&&&&&&&&&$.           .:::::.                                                       ..::;;;;;++++xxXxXXXXXXXX+:                                                                     
                                                                                                         ..............::::::::::..................                                         .........::.:::;+xx+x+:.+&&&&&&&&&&&&&&&&&+            ::::;;                                                     ...::::::::::                                                                                     
                                                                                                       ..........::::::;;;;;;;;;;;;;::...............                              ........................::;+++;:.x&&&&&&&&&&&&&&&&&X            :;:.;+                   ...                         . . ....:::::::                                                                                         
                                                                                                      .........:::::;;;;+++x+++++++++++::.............                       ....:.............................::::.+&&&&&&&&&&&&&&&&&$:           :;::;x.                .:..             . . . . . ..::::::::::::::;.                                                                                         
                                                                                                    .........::::;;+xxx++;:......:::;;++++:............                 ...:::.............. .... ..................:+$&&&&&&&&&&&&&&&$:      . .  ::::;X;             ..:....        . .. .... . . ....:..:::::::;;;.                                                                                          
                                                                                                   ........::;;++XXx+;..            ..:;++++;...........            .::::::...... .  . .   . .  . . ...................:;X&&&&&&&&&&&&$;::.....:.  :;::+X;          ..::.....       . ..... .      . . ...::::::::.                                                                                             
                                                                                                  ........;+++XXx+;                    ..:;+++:..........       .::::::::..... . . .             . . . . ..............::::;+$&&&&&&&&&+;::::.::...::::+$+       ..............                     ....                                                                                                        
                                                                                                .........;++XXx+;.            ;X.        ..:;+++:............::::::::::::..... . .  .     .  . . . ......................::::::;X&&&&&$+;::::::::::;:::x&+  ...................                                                                                                                                 
                                                                                               .:.......;+xXX+;.            :&&&&X     .X$:..;+++::........:::;;:;:::::..... ..   .   . .  . ...... .    .  ...............:::::::X&&&X+;;;;::::::::::;X&;......................    . . .                                                                                                                       
                                                                                               :.......;+xXx+:.            +&&&&&&&.   $&&&; .:;++;:.......:;;;;;;:::::...... . .  . . . .. .               .................:::::;x$Xx++;;;;;:::;;:::+&&:.......................      . ....                                                                                                                   
                                                                                              ::......;+xXx+;.            X&&&&&&&&&::&&&&&&+ .:;++::.:::...:;;;;;;::::......... . . . .              .. .     .............:.::::::;xx+++++;::;;;:::+$&X.......................... . . . .......                                                                                                               
                                                                                             ::.......++XX+:.           ;&&&&&&&&&&&&&&&&&&&&; .:+++:.:::::.:;;;;;::::::...... . .                . .. .......  ................::::::+x+++;:;;;;:::+$&&. .  . .................................::.. .  .                                                                                                       
                                                                                             ::......:+xXx;...         :$&&&&&&&&&&&&&&&&&&&&&; .:++;::::::.:;;;;;;::::::....... .                 . . . . ......................::::::;+++;;+;::;;x$&&;     ... ................::;;;;;::::........:... .....                                                                                                  
                                                                                            .::......;+XX+:::.         ;&&&&&&&&&&&&&&&&&&&&&&&;..;xx:::::::.:;;;;::::::...... . .                   ........... .. ..............:::::::;;:::;+XX$&&&X        ................::;;+++++++++;;;::::.....:.......... .          .                  .:::::.                                                       
                                                                                            .::......;+XX+::.          X&&&&&&&&&&&&&&&&&&&&&&&&:.:+X;;;::::::;;;;::::::.........                               . .. ...............:::::;+xX$$$$&&&&x       . ...............:;;+++++x+x+x+++++++;;;::::::::::::::::...... .   . . . .  ..::;;;;;;;;;++++++:                                                   
                                                                                            .::....::+xXX;::           $&&&&&&&&&&&&&&&&&&&&&&&&X.:;x+;;::::::;;;::::::....... .                              . .  . . ..............:::::;+X$&&&&&$:.   . .  .............::::;++++++++++++++x+++++++++;;::::::;;;;;;;::::::.. . .......::::;;;;::;;+++++++xx                                                  
                                                                                             ::....::+xXX;:.   .      .$&&&&&&&&&&&&&&&&&&&&&&&&$..;++;;::::::;;::::::........  . .                       . .. . .. . . . .............:::::;x&&&+..... . . . . . ........:::..;++;.                 .::;++++;;;;;;;;;;;;;;;;;;;::. . .....::;;;+++++++xx++++x+                                                 
                                                                                             ::....::+xXx;:.  ..  .   .+&&&&&&&&&&&&&&&&&&&&&&&&$..:;+;;:::::;;::::::....... .. .                     . ...................................:::;x+..... .. .       . ......:::..:.                               :;;;+;;;;;;;;;;;;;;;;;::::..::::;;;++++++x+++++                                                 
                                                                                             ::....:;+xXx;. . ........ :X&&&&&&&&&&&&&&&&&&&&&&&;..:;++;:::::;:::::::........ .                    ........::::::::::::::::::::...............:::::....... .         .....:::..                                         ::;++++++++++++++;;;;;;;;;;++++++x++xx+:                                                
                                                                                             .::...:;+xXX;:. .:....:....;$&&&&&&&&&&&&&&&&&&&&&X...:;++;:::::::::::....... .                   ...............::::::;;;;;;;;;;;;:::::...........::::........            ...:::.                                                 .:;+++++++++++;;;;;++++++xx+xx+;                                                
                                                                                             .:::..:;+xXX;:..::::::::::..:$&&&&&&&&&&&&&&&&&&&X:...:;++;::;::::::::..... .                  .   .......:::;+xXX$$$$$&&$&$$$$$$$$XXx++;;:::........:::...... .             ..::.                                                        :+++++++++;+++++++xx+xx+;                                                
                                                                                              ;::...;++XX+:::::::::::::...;X&&&&&&&&&&&&&&&&&+:....:+++;:::::::::...... .                  . ....::;+XX$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$XXX+;::......::.......              ...:.                                                           :;++++++++++++++xxx+                                                 
                                                                                              :;:...:++XX+:::::::::::::::..:;x$&&&&&&&&&&&X;:.....:;++;;:;:::::.......    . . .         ....::;+XX$&&&&&&&&&&&&&$$XxxxxXXXX$$&&&&&&&&&&&&&&&$X+::....:++....     .          ...::                                                             :;++++++++++++;                                                   
                                                                                               ;;:...;+xXX+:::::::::::::::..::::;++xxx++++::.....::;++;:;;::::............         ....:::;+X$&&&&&&$X+;:::::::::::;;;;;+++++++xXXXXXX$&&&&&&&&&$+:...;&$:.... .. ..          ...:.                                                                 ...                                                         
                                                                                               :;::..:+xX$X+::::::::::::::::::::::::;;;;;;:.....::;;++;;;::::......... . .     .....::;;+X$&&&$x+;:::::::::::;;;;;;;;;++++++xXXXXXXXXXXXXXXX$$&&&&&$X+$&&X:...........           ...                                                                                                                            
                                                                                                +;::..;+X$$X;::::::::::::::::::::::::::::::....:;;;++;;+;:::........ ..    ......:;;+X$$&&$+::.::::::::::;;;;;;;+++xxxXXXXXXXXXXXXXXXXXXXXXXXXXX$&&&&&&&$X+::::::........          ...                                                                                                                          
                                                                                                .+;::::+xX$XX+;:::::::::::::::::....::.:::...::;;+++;;+;:::...... . .  . ....::;+xX$&&&X;::::::::::;;;;;++++++xxxxxxxxxXxXXXXXXXXXXXXXX$X$XXXXXXX$$&&&&&XXx::::::::::........ .      ...                                                                                                                        
                                                                                                 :+;:;;;+xX$$x+;;::::::::::::::...    ......:;+;++;;;+;:::..... .. . ......:;+X$&&&$+::::::::::;;;+++++xxxxxxxxxxxxxXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$XXXX+;;;xXXX+;;:::......... .     ...                                                                                                                     
                                                                                                  :+;;;;;+xXX$x+;;;:::::::::....     ....::;;;+++;;++::::.... . . ......:;+X$&&$X+:::::::;;;;++++++++x++xxxXXXXXXXXXX$X$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$XXXXx;+xXX;::;;;;;;::...........    ..:..                                                                                                                 
                                                                                                   .;;;+++++xXXX++;;;::::::..... .....:::;;+++++;;+;:::.... . .......::;xX&&$+;:::;;;;;;;+++++++++++xxXXXXXXXXXXXX$XXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$XXXx++xX+        .::;:::::........   .....:.:::::.:...                                                                                                   
                                                                                                     :;+++++;+xXXXx++;;::......:::::;;;;++++++;;+;::::............::;+X$&X+;:;;;;;;;++++++++++++xxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$XXX$$$$$$$$$$$$$$$$$$$XXX+++xX:              .::::.........   ...............                                                                                                  
                                                                                                       :;+++++++++xXXx+++;;;;;;;;;;;;;;;;;;;;++;;:::...........::;x$$$X+;;;;;;++++++++x+x+++xxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$XXX+++xX                    ..:.......... .........::..                                                                                                  
                                                                                                        +x++++++++++++++xx+++++++;;::;;;;;+;;;;;:..........::;+X$&$x;;;;;;+++++xxxxxxxxxxxxxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$$$$XXXXx++x+                        .:.................::::.                                                                                                 
                                                                                                       :$&$$X+++++++++++;+;+;+;;;;;;;;;;;;;;::.........:;;+X&&&$x;;;;++++++xxxxxXxXXXXxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$XX$$$$$$$$$$$$$$$$$$$$$$$$$XXX$+;;x+                           .:...........:..::::.                                                                                                 
                                                                                                       X$&&&&$$$XXxx++++++++++++++++++++;::.........::+x$&&&X+;;;;;+++++xxxxxXxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$X$$$$$$$$$$$$$$$$$$$$$$$$XX$X;;++;                             .:.........::::::;:                                                                                                 
                                                                                                      +$&&$$$$$$$$$$$$$$$$$$$XXXx++;;:::..........:;+$&&&$++;;;;++++x+xxxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$XXXXXXXX$$X$$$$$$$$$$$$$$$$X$$+::;+;                               ..........::::::.                                                                                                 
                                                                                                     .X$&$$$$$$XXXXXXXXXXxx+++;;:::..............;X$&&&X+;;;;;++++xxxxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$X$$X;::;;;.                                ........::::::                                                                                                  
                                                                                                     +X$$$$XXXx+;;;;;;;;::::::.................;X$&&&x+;;;;++++xxxxxxxxxxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$X$$+;:::;;:                                 ........:....                                                                                                  
                                                                                                     XX$XxxXx+++++;;::::::::.................+$&&&&X;;;;;+++xxxxXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$X;::::;++                                   .........                                                                                                    
                                                                                                    :X$$xxxx+++++;;::::::.:...............:x$&&&&X;;;;;+++xxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$$$$$$$$$X+:::::;;x+                                                                                                                                               
                                                                                                    ;X$X+++++++;;::::::.:................x$&&&&$+;;;;++xxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$$$$$X;::.:::;+x:                                                                                                                                              
                                                                                                    ;XX+++++++;;:::::.:...............:+&&&&&$+;;;;++xxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$$$$$x.;:::..::;++X                                                                                                                                              
                                                                                                    ;Xx+++++++;:::::.................+$&&&&&x;;;+++xxxXXXXXXXXXXXXXXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$$$$$$$$$&X   ::::..:;;+xx                                                                                                                                             
                                                                                                    ;Xx++++++;;::::................+$&&&&&X;;++++xxXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$$$$X$$$$$$$$;   ::::...:;;++x                                                                                                                                            
                                                                                                    :Xx+++++++;;;:...............+&&&&&&X+;;;++xxXxxXXXXXXXXXXXXXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$$$XXX$$$$$$&x     ::.....::;;+X:                                                                                                                                          
                                                                                                     Xx++++;x$x+;:............:+&&&&&&X+;++++xxxxxxXXXXXXXXXXXXXXxXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$$XXXXX$$$$$$X      .:...::::::;;x+                                                                                                                                         
                                                                                                     +++++;+&&&$x;:.........;X&&&&&&$;;;+++++xxxxXXXXXXXXXXXXXxXXXxXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxxXXXXXXXXXXXXXXXXXXXXX$XXxxXXX$$$$$        ::.:::::::;;;+x:                                                                                                                                       
                                                                                                     :x+++;+&&&&&&$X;::;X&&&&&&&&&X;;;;+++++++xxXXXXXXXXXXXxxXxXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxXxxxXXXXXXXXXXXXXXXxXxXXXXXxxxXXXX$X$$;         :..:::::::;;;;x+                                                                                                                                      
                                                                                                      +++;;;$&&&&&&&&&&&&&&&&&&$x;;;;;+++++xxxXXXXXXXXXXXXxXxxXxXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxxxxxxXxxXXXXXXXXXXXxxxxxxxXXXxxxXXXXXX$$+           ...::::::::;;;+;                                                                                                                                     
                                                                                                      ;++;;:+&&&&&&&&&&&&&&&$x;;;;+;++++++xxXXXXXXXXXXxXxXxxxxXXxXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxxxxxxxXxxxXxXXXxXXXxxxxxxxxxxxxxxxxXXXXXX$x              ..::;::::::;;+                                                                                                                                     
                                                                                                     .:+Xx+;:+&&&&&&&&&&&$x++++++++++++++xXXXXXXXXXXxXXxXxxXxXxXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXxxXxxxxxxxxxxxXxxxxxxxxxxxx+++xxxx+x+xxxXXXXX$$x                 .::;;:::::;;:                                                                                                                                    
                                                                                                   ....:+xXx++x$&&&&$X+++++++++++++++++xxXXXXXXXXXxXxXxXxxxXxXXXXxXXXXXXXXXXXXXXXXXXXXXXXXXXxXxxxxxxxxxxxxxxxxxxxxxxxxx+++++++++xx+xxXXXXX$$X                    .:;;;:::;;:                                                                                                                                    
                                                                                                 ......;++++xxxx++++++++++xxxx++++++++xxXXXXXXXXXxXxXxxxxxXxxxXXxXXXXXXXXXXXXXXXXXXXXXXXXXxXxxxx+xxxxxxxxxxxxxxxxxx++++++++++++++xxxXXXX$$$$.                        ::..:                                                                                                                                      
                                                                                                ......:::;;;;;;;;;;+++xxxxxxXXx+xxx++xXXXXXXXXXxXxXxxxxxXxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXxxxxxx+++xxxxxxxxxxxxxxx+++++++++++++++xxxxxXXX$$$$$:                                                                                                                                                                    
                                                                                              ........::::::;+++xxxxXxxxxxxXXXxxxxXxxxXXXXXXXxxXxXxxxxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXxxxxxx+++++xxxxxxxx++x++++++++++++++++++x++xxxXXX$$$$$$;                                                                                                                                                                     
                                                                                            ............:::::;;;++++++++xxXXXXxxXXXXXxXXXXXXxXXxxxxXxxxxxxXXXXXXXXXXXXXXXXXXXXXXXXxxxxx+++++++++++++++++++++++++++++++++++x+xxxXXXX$$$$$$+                                                                                                                                                                      
                                                                                           .............::::::;;;;;++++xxXX$XXXXXXXXXxXXXXXXXXXXXxxxxxxxxXXXXXXXXXXXXXXXXXXXXXXxxxx++++++++++++++++++++++++++++++++++++xxxxxxXXXX$$$$$$$X                                                                                                                                                                       
                                                                                         ...............::::;;;;;;++xxxXXX$$$XXXXXXXXXXXXXXXXXXXxxxxxxxXxXxXXXXXXXXXXXXXXXXXxxxxxxxx+++++++++++++++++++++++++++++++++xxxxXXXX$$$$$$$$$$X                                                                                                                                                                        
                                                                                       ...............:.::;;;;;;+++XXXXXX$$$$$$X$$XXXXXXXXXXXXXxxxx+xxxxXXXXXXXXXXXXXXXXXXxxxxxxx++++++++++++++++++++++++++++++++xxxxXXXXXX$$$$$$$$$$$$.                                                                                                                                                                        
                                                                                     ................:::;;;;;;;++xXXX$XX$$$$$$$$$$XXXXXXXXXXXXxxxxxxxxxxXxXXXXXXXXXXXXXxxxxxxxx+++++++++++++++++++++++++++++++xxxXXXXXXX$$$$$$$$$$$$$$;                                                                                                                                                                         
                                                                                    .................::;;;;;+;;++xX$$$$$$$$$$$$$$$$XXXXXXXXXXxxxxxxxxxxxXXXXXXXXXXXXxxxxxxxx+++++++++++++++++++++++++++++++++XXXXXXXX$$$$$$$$$$$$$$$$+                                                                                                                                                                          
                                                                                  ...................:;;;;;;;++++xXX$$$$$$$$$$$$$$$$XXXXXXXXxxxxxxxxxxXxXxXXXXXXXXxxxxxx+x+++++++++++++++++++++++++++++++++xxXXXXXXXXX$$$$$$$X$$$$$$x                                                                                                                                                                           
                                                                                .:::................:;;;;;;;++++xxX$$&$$&&&$$$$$$$$$$XXXXXXxxxxxxxxxxxXXXXXXXXXXxxxxx+x+x+++++++++++++;+++++;+++++++++++++xXXXXXXXXX$X$X$$$$XX$$$$$X                                                                                                                                                                            
                                                                              ..:::::...............::;;;;+;++++xxXX$$$$&&$$&&&&$$$$$XXXXXxxxxxxxxxXXXXXXXXXXXXxxxx+xxx++++++++;;;;;;;;+++;+++++++++++++xXXXXXXXXXXXXXXX$$$XX$$$$$$:                                                                                                                                                                            
                                                                             ..:::.:...............:::;;;+;;;;+++xXXXX$$&$$$$&&&&$$$$XXXxxxxxxXXXXXXXXXXXXXXXXxxxxxxx+++++++;;;;;;;;;;;;;+++++++++++++xXXXXXXXXXXXXXXXXX$$XXX$$$$$;                                                                                                                                                                             
                                                                           .....::.................:::;:;+;;;+;+++++xX$$$$$&&&&&&&$$$XXXXXxxxxXXX$XXXXXXXXXXxxxxxxxx++++++;+++;;;;;;;;;;;+++++++++++xxxxXXXXXXXXXXXXXXX$XXXX$$$$&+                                                                                                                                                                              
                                                                          ....:.:...................::;:;;;;;;+;++++XX$$$X$&&&&&&&$$$$XXXXXxxxXXX$XXXXXXXXXXxxxxxx++++++;++++;;;;;;;;;;;;;;+++++++xxxxxXxXXXXXXXXXXXXXX$XXXX$$$&x                                                                                                                                                                               
                                                                        .....:......:::::.........:.:::::;;:;:;;;;++XX$$XX$&&&&&&&&$$$XXXXXxxXXXXX$XXXXXXXXxXXXXx+++++++++++;;;;;;;;;;;;;;;;+++++++xxXXxXXXXXXXXXXXXXXXXXX$$$$&$                                                                                                                                                                                
                                                                       ..:.:::....:::::.............:::::::::::::;;+xXXXXX$&&&&&&&&&&$$$XXXxXXXXXXXXXXXXXXXXXXxx++++++++++;;;;;;;;;;;;;;;;;+++++++xxxXXXXXXXXXXXXXXXXXXXXX$$$$$                                                                                                                                                                                 
                                                                      ....:......::::...........:...::::::::::::::;;;+xxxXX$&&&&&&&&&$$$$XXXXXXXXXXXXXXXXXXXXxx++++++++;+;;;;;;;;;;;;;;;;;;+;++++xxxXXXXXXXXXXXXXXXXXXXXX$$$$$:                                                                                                                                                                                 
                                                                    ...:::.........................::::::::::::::::;;;++xxXX$&&&&&&&&$$$$XXXXXXXXXXXXXXXXXXXxx+++++++;;;;;;;;;;;;;;;;;;;;;;+++++xxxXXXXXXXXXXXXXXXXXXXX$$$$$$;                                                                                                                                                                                  
                                                                   ..:::...........:::::::....:.:..::::::::::::::::::;;;+xXXX$&&&&&&&&&$$$$XXXXXXXXXXXXXXXXxxx++++++++;;;;;::::::;;;;;;;;;+++++++xXXXXXXXXXXxxXXXXX$$XX$$$$$x                                                                                                                                                                                   
                                                                  .:::............::;:::.....:.:.:::::::::::::::::::::;;;+xXX$$&&&&&&&&&$$$XXXXXXxXXXXXXXXxxxxx++++++;;:::. ....:::;;;;;;;++++++xxXXXXxXXXXxXXXXX$$$$X$$$$$X                                                                                                                                                                                    
                                                                 .::::.:......:...:::::.:.:.:.::::::::::::::::::::::::::;;+xXX$$$&&&&&&&$$$XXXXXXxxXxXXXxxx+++x++;;:::.. .    . .::;;:;;;;+++++xxXxXxXXXXxxXXXXX$$$$$$$$$$X                                                                                                                                                                                     
                                                                .:::........::::....:.:..:.::::::::::::::::::::::::::::::;++xXX$$&&&&&&&$$$XXXXXx+;;+++++;++++++++;:. .        ...::::;;;++++++xxxxxxXXXXXXXXXX$$$$$$$$$$$:                                                                                                                                                                                     
                                                               .:::.:......::::.::::::.:::::::..::::::::::::::::::::::.:::;++xxX$$&&&&&&&$$$XXXx+;:..:::;;;;;++;;:;;:.       .  ..::::;;;+++++xxxxxXXXXxXXXXX$$$$$$$$$$$$;                                                                                                                                                                                      
                                                              .:::::........:.::.:.:.:::::::::.::::::::.:::::::::::::....::;++xX$$$&&&&&$$$XXx++:      ..:...::      ..       . .::::;;;;++++xxxxxxXXxXXXXXX$$$$$$$$$$$$+                                                                                                                                                                                       
                                                             .:::::.........::::::.:.::::::::.:.:.::::.::::::::::::::......:;++xXX$&&&&&$$Xx+++;:..                            ..:::;;;;+++++xxxxXXXXXXXXXX$$$$$$$$$$$$X                                                                                                                                                                                        
                                                            .:::::.:.:....:.::.:.:::::::::::..:.:.:.:.:.::::::::::::.......:;+++xXX$&&&$$Xx+++:...                             ..:::::;;++++x+xxXXXXXXXXX$$$$$$$$$$$$$$                                                                                                                                                                                         
                                                            :::....::::.:.:::::.:.::::::::..:.:.:.:.:.:::::::::::::.........:;+++xX$$$$$Xxxx;.....                              .:::::;;+++++xxXXXXXXXX$$$$$$$$$$$$$$$:                                                                                                                                                                                         
                                                           :::..:.:::::.:::::.::.:::::::::::::.:.:.:..:.:::::::::::..........:;+;+X$$$$XXx+;.......                            .....:;;+++xxxXXXXXXXXX$$$$$$$$$$$$$$$;                                                                                                                                                                                          
                                                          .::....:.::::::::.::.::::::::.:::::::.:.:..:.::::.::::::............;++;+X$$Xx+;::......                               ..::;+++xXXXXXXX$XX$$$$$$$$$$$$$$&$+                                                                                                                                                                                           
                                                          :...:.:.:.::::::.:.:::::::::.:.::.:.:.:.:.:.::::::::::::............:+;;x$Xx++;:........                             ....:;+++xXXXXXX$XXX$$$$$$$$$$$$$&&$X                                                                                                                                                                                            
                                                         ..:...:.::::::::.:::::::::::.:::.::.:.:::..:.::::.:::::::............:;++Xx+++;:..........                             ..:;+++xXXXXXX$XXXX$$$$$$$$$$$&&&$$                                                                                                                                                                                             
                                                         .:.:.:::.::;;:::::::::::::.::.:.:.::.:.:.:.:::::.:::::::.............:;++++++;:......... ..                          ...:;;++xxXXXXXXXXXX$$$$$$$$$&&&&&&$:                                                                                                                                                                                             
                                                         ..:.::::::;;;::::::::::::::.::.:.:.::.:.:.:.::::.:::::.:........... ..;+++++;............ ...                       ....:;;++xXXXXXXXXXXX$$$$$$$$&&&&&&&;                                                                                                                                                                                              
                                                        .::.:::::::;+;::::::.::::::::.::.::.:.:::..::.::..::::.:.:........... .:;+++;......... . . . .                     . ...:;;++++xxXXXXXXXX$XXX$$$&&&&&&&&X                                                                                                                                                                                               
                                                        .:.:::::::::;:::::::::::::.::::.:.:.::.:.:.::::..::::.:.:..........  . .;++;........ . . . . .                    . ..::;;;++++xxXxxxxXX$XXX$$&&&&&&&&&$                                                                                                                                                                                                
                                                       .::::::::::::::::::::.:.:.::::.::::.:.:..:.:..:...:::.:.:...........  ..:;+;........... . . .. .                  . ..::;;;+++++xXxxxxXX$XXX$$$&&&&&&&&&.                                                                                                                                                                                                
                                                       ::::::::::::::::::.:::.:.:::.:::.:.:.:.:.:.::::..:::...............  . :+x;.......... . . .. .. .      ..        . ...:;;;;++++xxxxxxxXXXXX$$&&&&&&&&&&;                                                                                                                                                                                                 
                                                      .::::::;;::::::::.:::::.:::::::.:.:.:...:.:...:...::...............    :+x;:.......... . .... ..       ..       . ....:;;;;++++xxxxxxxXXXX$$$$&&&&&&&&&+                                                                                                                                                                                                  
                                                      .:::::;;;:::::::::::::::::::::::.:::.::.:....:...::............. ..  . ;++:............ . .. ............     . .....:;;;;;++++xxxxxxXXXX$$$$&&&&&&&&&X                                                                                                                                                                                                   
                                                      :::::::;:::::::::::::.:::::;;::.:.:...:.......:..:................    .+x;:.......... . .. ..... .........  . .. ...:;;;;;;+++xxxxxxXXXX$$$$&&&&&&&&&$                                                                                                                                                                                                    
                                                     ::::::::::::::::::::::::::::;::.:.:.:.:......................... .    .;++;............... . .......... .... .......:;;;+;++++xxxxxxXXXX$$$$&&&&&&&&&&.                                                                                                                                                                                                    
                                                     ::::::::::::::;+::::::::::::::.:.:...:......................... .      ++;:.......... . ... .............. ... ...::;;+++;+++xxxxxxxXXXX$$$$&&&&&&&&&;                                                           . ...:.                                   .::;:.                                                                                          
                                                    .::::::::::::::;;::::::::::::.::.:.:.:.........................        :x+;........... . .. .......... ..........::;++++++++++xxxxxxXXXX$$$&&&&&&&&&&x                                                          ...:::::;:                               ..:::::;;;:                                                                                        
                                                    :::::::::::::::::::::::::::::...:............................. .       :x+;........ .. . .... .................:::;+++++++++xxxxxxxXXXX$$$$&&&&&&&&&X                                                .. .    .......:::;;;:                             . .::::::;;;;:                                                                                      
                                                   .:::::::::::::::::::::::::::::.:.:.............................         :++:............ ............. .......:::;;++++++++++xxxxxxXXXX$$$$&&&&&&&&&$                                               . .    ........::::::;++:                          ....::::;;;+++++;                                                                                     
                                                   ::::::::::::::::::::::::::::.:.............................. .          :+;......... ... ... ...............:::;;++++++++++xxxxxxxxXXX$$$&&&&&&&&&&&.                                            . .    .. ....:::;;;;;;;;+++.                       .. ..::::;+;;;;+++++                                                                                    
                                                   :::::::::::::::::::::::::::::...:......................... . .          :+;............. ........... . .:..:;;;;++++++++++++xxxxxxxXX$$$$&&&&&&&&&&;                                            . .  . . ..::;;;+++++++++xx++                     ..::..::::::;;;;;;;+++++                                                                                   
                                                  .:::::::::::::::::::::::::::...:.:....................... .. . .         :+:............ ............. .::::;;+;++++x+++++x+x+xxxxxXXX$$$&&&&&&&&&&+                                          . . .  . ...::::.::;;;;;++++;                    ....::::::::::::;;;;;++++x++:                                                                                  
                                                  :::::::::::::::::::::::::::.::.:.:..................... .. . .            ;:..............:......... ...::;;+++++++x+++++xxxx++xxxxXX$$$$&&&&&&&&&X                                              . .  . .:.                              ........::::::::::;::::;;;;++xxxX+;                                                                                  
                                                 .::::::::::::::::::::::::::::.:::.....................  .   .  .           .:........... ..:....... .. ..:;;+++++++x++++++x+x++xxxxXXXX$$&&&&&&&&&&          ......                          . .. .   ..:                            ..:.......::::::::;;;;;;;;;;;;;;+xxxxxx:                                                                                  
                                                 ::::::::::::::::::::::::::::.:::.:..:............... .     .                ..............::...... . . ..:;;++++++xx+++++x++++xxxxxXXXX$$&&&&&&&&&       .........                           .  .   . .                          .......:::::::;;;;;;;;;;;;;;;;;;+++;++++++;                                                                                   
                                                .:::::::;;;::::::::::::::::::::::..:............... .                       ..............:;;..... .   ....;;+++++xx++++x+++++xxxXxXXXX$$&&&&&&&&&;     ..........                          . . .  . .                         .......:::::;;;;+++++;;;;;;;;;;;;;;;;;;;+++;.                                                                                    
                                                .::::::;x+;:::::::::::::::::::::.:.:.............  .                        .............:;;;;..         ...;+++++++x+++++++xxxxXXXXX$$$$&&&&&&&&+     . . .......                          . . . . .                      ..:.....::::;;;+++xxx++;;;;;;;;;;;;;;;:;;;::.                                                                                        
                                                :::::::+Xx;:::;+;::::::::::::::.:.............. .          . .              .........:.::;+;;....          ..;++++++++++++xxxxxXXXX$$$$$&&&&&&&&X      . . .. . .                        . . .   .                     ..:......:::;;;+++xxXXx++;;;:                                                                                                            
                                               .::::::::;;;:::;;::::::::::::::.:.:............ .        . ..               .........::::;;;.....             .:++++++++++xxxxxXXXXX$$$$&&&&&&&&$       .. . .   .                           . .                     ..........::::;;+xxXXX+;:                                                                                                                   
                                               ::::::::::;;:::::::::::::::::.:.:........... .         .:::..            .  .........:.:;;;.......              .:++++++xxxxxXXXXXX$$$$&&&&&&&&&        ..       .                     .    . .. ..               .... .........::;xXXXX+:                                                                                                                       
                                              .::::::::::;;;;:::::::::::::::::.......... .. .       .:::::..  . .   .     .........:::;;;...... . .               .:;++++xxXXXXXXXX$$$&&&&&&&&;        ..       .                        . ......             .... .... ....::;+XXXX+.                                                                                                                          
                                              ::::::::::;;;;;;;;::::::::::::.......... . .       ..::;;:::. ...:..    . .  .......:.:;;:... . .. . .                 .:;+++++xxXXXXX$$&&&&&&&x         ..      .                        . .......         . .. . ...  ...:;;+xXX$x.                                                                                                                             
                                             .:::;:::::;;;;;;;;;:::::::::::..:::::... ..       ..:;;;::::...:::..  .      .........:;;... .. . . . . .. . . .           ..:;;+++xxXXX$$&&&&&X          ....     .                     . ..........    . . .. . .. ...:;;++xXXXX:                                                                                                                                
                                             .::;::::;;;;;;;;;;;;;;;;::::..::::::..... .     ..:;;;;:::::::::::...      .  ......:::....... . . .  . .        . .           ...:;;++xXX$&&&$            . .     .               .   . ............... .. . ......:;+++++xXXX;                                                                                                                                   
                                            .:::;:;::+Xx+;;;+;;;;;;::::.:::::::..... .     ..:;;;;::::::::::::::. . .    .......:........ . .. . .. . . .        . .            .....:;xXXX             ..      ..           ...  . .................. ........;+xXXxxXXXx                                                                                                                                      
                                            .:;;:::;;;++++++;;;;;;:::::::::;::.... .     ..:;;;;;::::::::::::::. .     .  .......:.:...... . ........... .          . . .   . .    . ......:.           . .     ..:.        ..   ................. . .......:;+xXXXXXXX;                                                                                                                                        
                                            ::;;:;;;++++++++;+;;;::::::::;;:..... .    ..:;;;;;::;;:;:::::::::..  . .   . .....:..:.::................... .. .    .    . .     ... . .  . ........      . .    ....::     ...  ............................;+xXXXXXXx.                                                                                                                                          
                                           .:;;;::;+++++++++++;;;:::::;;;:..... . .  .::;;;;;;;;;:;;:::::::::.. .     . . ......:..:.:....................... . .   .      .  .  . . ..... . . .......  .. .    ......   ... ............................;+XXXXXXX+                                                                                                                                             
                                           :;;;;:;;++++++++++++;;;;;;;;;.......    .:;;;+;;;;;;;:;:::::::::....  . .  .. . ...:..::::......:.:.:::::::............ . . .            .    . . . ......    .. . .  ... ...... ..........................:;+xxxxXXx;                                                                                                                                               
                                          .:;;;;;;;+++++++x+++;;;;;;;;...:...  ..:;;++++;;;;;;::::::::::::... . .    ... ......::::::.:.:::::::::::::::::.............. .. . . .      . . . . .            .        . ... . ...........:...........::;+++xXXXX+                                                                                                                                                 
                                          :;;;;;;;++++++++x+++++++;:..::::.::::;;+++++;;;;;;;:::::::::::....... ... . ........:::::::::::::::::::::::::................. . .... . . .    .  . . . .       . .     ...... ............:....:::...::;+++++xxxx+                                                                                                                                                   
                                         .;+;;;;;;++;+++++++++++;;:::::::;;++x+++++++;;;;;;:::::::::::............. ..:...:::..::::::::::::::::::::::::::::::.:.::.............. . . .... .. ..... .. . . . .    . . . . . . ......::.:::::::::;;++++++++++:                                                                                                                                                    
                                         :++;;;;;+++++++++x++++;;::::;++xxxxxxxxx++++;;;;;:::::::::::.............. ..:::::;;;:::::::::::::;:::::::::::::::::::::.:....:........................ .. .  . .    .. .. .   . .......::.::.::::::;;+++++++++++:                                                                                                                                                     
                                         ;++;;;;;+++++++++xxx++;;;+xxXxXxXxXXXXxx+++++;;::::::::::::....:....::::.. ...:::::;++;;;::::::::::;;;;::::::::::::::::::::::::::::........................ .. . .......... . . .......:.:::::::::::;++;;++;++++;                                                                                                                                                      
                                         ++;;;;;;;;;++++++xXxxxXXXXXXXXXXXXXXXxx++++++;;;;;:::::::::::::...::::::.. ..:::::::;++++++;::::::::::::;;;;;;;::::::::::::::::::........................... . . . ....:;:.  . .......:.::::::::::::;;;;;;+++++;:                                                                                                                                                      
                                         ++;:::;;;;;;++xxxXXXXXXXXXXXXXXXXXXxxxxxxx++;;;;;::::;:::::::::..::;:::::...:::;;;;;;+xxx++++;:::::::;;;;;;;;;;::::::::::::::::::::::........:........... . . ... .....;;. . . ......:::::::.:...:::;;;;;;;;;;;+;:                                                                                                                                                     
                                         ;+;::.::;;;;++xXXXXXXX$X$XXXXXXXXXxxxxxXXXx+++;;;;;;;:::;;;;::.:;;:::::::;:::;;++;++;;++xXXxxxx+;::::::;;;;;;;;;;;;;;;;:::::::::::::::::::::::::............... ......;+: . . .....::.::::::.....:.:;;:::::::;;;;;;:                                                                                                                                                   
                                         ;+;::...::;;++xXXXXXX$$$$XXXXXXXXXXXXXXXXxx++++;;;;;::;;;;;::::;;::::::;;:;;;;++++++++++++xXX$$$XXx+;;:::;;;;;;;;;+;;;;;;;;;;;;::::::::::::::::......................:x+.  . .......:::::..........:;; ....:::::;;;;;:                                                                                                                                                 
                                         :+;::::..::;+++xXXXXX$$$$$$XXXXXXXXXXXXXXx+++++;;;;;;;;;;;;;;;;;::::::;;;;;;;+++++++++++xxxxxX$$$$&&&$$x+;;;;;;;;;;+++++;;;;;;::::::::::::::::::.:::.............:...+x:  . ......:.::::::::........::      ..:::::;;;;;:                                                                                                                                              
                                          xx+;;::..:;;;+xXXXXX$$$$$X$$$$$$XXXXXXxxx++++++;;;;;;;;;;;;;;::::::;;;;::;;++++++++++++xxxxxXXX$$$$$&&&&&Xx+;;;;;;;++++++++;;;;;::::::::::::::::::.:..........:::..+X+  ........::::::::::::..........          .:::::::::.                                                                                                                                           
                                          ;Xx++;:::::;;+++xXX$$$$$$$$$$$$$XXXXXxxx+x++++++;;+++;;;;;;;;;;:;;;;;;;;+++++++++xx++++xxXXxXXX$$$$$&&&&&&&&&$x+;;;;;+++++++++;;;::::::::::::::::::.::...:..::::..+Xx. .........:::::::::::::.............            .::::::.                                                                                                                                        
                                           xXXx+;:::;;++xXXX$$$$$$$$$$$$$$XXXXXXXXxxxxxx++x++++;;++;;;;;+++++++;;+++++++++xXxxx++XXXXXXX$$$$$$&&&&&&&&&&&&$x++++++++++++++;;;;;;:::::::::::::::.:::::::::.:+$X+. .......:::::::::::::::...............              .::::::.                                                                                                                                    
                                            +XXXxxx++++xxXXXX$&$$$$$$$$X$X$XXXXXXXxxxxxxxx+++++++++;++++++++++;;++++++++xXXxxxxxXX$$$$X$$$$$&&&&&&&&&&&&&&&&&Xx+++++++++++++++++;;;;;:::::::::::::::::::::+X$X;........::::::::::::::::::......::;;;;;:::..           ..:.::::::.                                                                                                                               
                                             :XXXXXXXXXXxxxX$&&&&&$$$$$$$$$$$XXXXXXXXXxxxx+++++++;++++++xxxxx++++++x++xxxXxXXXXXX$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&X+++++++++++++++++;;;;;;;;;:::::;;;;;;::;xX$$+:......::::::::::::::;+++;....::;;;;+++++++;;;;;;:::... . .:::::::::::.........:::...::::                                                                                                         
                                                ;+xxxxxxx+++xXXX$$$$$$$$$$XXXXXXXXXXXXXXXxxx++++++++++xxxxxxXxxxXXXxxXxXXXXXXXXX$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&Xx+++++++++++++++++++++;;;;;;;;;;:::;+X$$X;..:::::::::::::::;;+++++++;;;;++xxxxxxxxxxxxxxxx++++++;;;;::::::::::::::::::::;;;:....:::                                                                                                         
                                                      ++++++++++++;;;;;;;;;;;:;;;;:;;;;+xXXXXXXXXxxx++++++++++xxxXXXXXXXXXXX$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$Xx+++++++++++++++++++++++;;;;;;;+xXXX+::::::;;;;;::::::;;;;;++++xXXXX$$$$&&&&&&&&&&&&&&$$$$XXxx++++++;;;;;::::::::;;;;;::...:;;:.                                                                                                        
                                                      +++++++++++++++;;;::::..............:;+X$$$$$XXXXXXxxxxxXXXX$$$$$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&X+xx+++++++++++x+xxxxx+++++++++XX+;;::;;;;;;;;;;;;;;;;;;+++xXXX$$$&&&&&&&$$XXXXXXX$$$&&&&&&&$$$$XXXXxxx+++++;;;;;;+;;::::.::;;:                                                                                                        
                                                      ;+++++++++++;;;;:::::....................:+xX$$$&$$$$$$XXX$$$$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&X        :;+++++++xxx++++++++++xX++;;;;++++;;;;;;;;;++++xXXXX$$$$$&$X+:                    :+X$&&&&$$$$$XXXxxx++++;;;;::::::;;+:                                                                                                        
                                                      ;++++x++++;;;;::::::::::.:..:................:+X$&&&&&&&&&&&$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&X               .:++++++++++xxxXXx++++++++++++++++++++xxxxXXxx+:                                   :+$$&&&$$XXXXxx+;;;;::::;;;++;                                                                                                        
                                                      ;x+xxx+++++;;;:::::::::::.:..:.:...............:+X$&&&&&&&&&&&&&$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&+                       :;++xXX$$$XxxxxxxXxXxXxXXxxx++;:.                                                .+X$&$$$XXXx+;;;;:;;;;;+:                                                                                                        
                                                      :xxxxxxx++++;;;;:::::::.:.:.:.:.:.:.:.:..........:;+X&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$                                   ....:...                                                                    :X$$XXx++;;;;:;;;;;                                                                                                         
                                                       xXXXxxxx+++++;;::::::::.:.:.:.:..:..:.:............:+X&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$                                                                                                                    .x$Xx++++;;;;;;                                                                                                          
                                                        xXXXxXxxx++++;;::::::::::.:.:.:..:.:................:+$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$$&&&&&&+                                                                                                                         ;XXx+++;;;;.                                                                                                          
                                                         ;XXXXXXXXxx+++;;;;:::::::.:...:....:.:...............;x$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$XXXXXXXX$&$.                                                                                                                             ;XXx++;;.                                                                                                           
                                                           +xxxxxxxxxxxxx+++;;:::::.::..:.::....:..............:;X&&&&&&&&&&&&&&&&&&&&&&&&&&&&XXXXXXXX$$$&$x                                                                                                                                    .:.                                                                                                             
                                                          .:;;;;;;++++++xxxx++;;:::::::::::::::..:.:......:......:+$&&&&&&&&&&&&&&&&&&&&&&&XXXxxXXXXX$X$$$$:                                                                                                                                                                                                                                                    
                                               ..::::::::::::::::::::;;;+++xxx++;;;:::::::::::::::.:::.....:.......;X&&&&&&&&&&&&&&&&&&&$XxxxxxxxxXXXXXX$X:                                                                                                                                                                                                                                                     
                                         ..:::::::::::::::::::::::::::::;;;++xxx+++;;;;;;::::::::::.:.:::.:.::......:+X$$$$&&&&&&&&&&&&X++++x++xxXXXXXXx:                                                                                                                                                                                                                                                       
                                      .::;;;;;;;;;;;;;;:;:;:::::::::::::::::;;+++++++;;;;;;;::::::::::::::::::::......;xXXXXXX$&&&&&&&x+x++++xxXXXXXX;                                                                                                                                                                                                                                                          
                                   .::;;::;;;::::::::::::::::::::::::::::::::::;;++x+++++;;;;;:::::::::::::::::::......:+XXXXXXX$&&&$++++++++xxXXXX:                                                                                                                                                                                                                                                            
                                  ::;::::::::::::::::::;;;;;;;;;:::::::::::::::::::;+xx++++;;;;;:::::::::::::::::::......;xXXXXXXX$X++++++++++XXX;                                                                                                                                                                                                                                                              
                                .:::::::.....::::::::;;;;;;;;;;;;;;::;;;;;:::::::::::;+xx+++;;;;;;;::::::::::::::::::. ...:xXXXxxXx+++++++++++Xx                                                                                                                                                                                                                                                                
                               .::::::.....:::::::;;;;;;:::::::;;;;;;;;;;;;;;;;::::::::;+xx++;;++;;;;;;:::::::::::::::.....:+XXX++++++++++;;+x+                                                                                                                                                                                                                                                                 
                              .:::::.....:.:::::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;++;;::;+xx+;;+++;;;++;;;::::::::::::.....:+XXx+++++++++;;x+                                                                                                                                                                                                                                                                  
                              ::::..:..:.::::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+++;;::+xx++;++++;+++;;:::::::::::::;:...:xxxxxx+++;+;;+X                                                                                                                                                                                                                                                                   
                             :::::::.:::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;++x++;::+xx++;++++;;+;;;:;;::::::::::;:..:+xxXXXx++++;;++                                                                                                                                                                                                                                                                   
                             ::;:::::::::::;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+x++;;:;+x+++++++;;;;;;;;;:::::::::;;:.:+XXX$Xx+++;;;;;                                             .;++;                                                                                                                                                                                                                 
                            ;;;;;;:::::::;;;;;;;;;;;;;+;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+xx+;;:;xx+;+++++;;;;;:;;;:::::;::;;:.:+XX$$Xx+++;;++;                                           :++++++++:                                                                                                                                                                                                              
                            ;;;;;;::;:::;;;;;;;;;;;;;+;;;++++;;;;;;;;;;;;;;;;;;;;;;;;;;;++xx+::+x++++++;;;;;;;;;;;;:;:;;;;;;::+$$$$Xx+++;;;+++:                                      :;++xxxxxxx+++                                                                                                                                                                                                             
                            +++++;;;;;;;;;;;;;;;;++++++++++++++;;;;+;;++++;;;;;;;;;;;;;;;;;+++;;+x+++++++;;;;;;;;;;;;;;;;;;;;;x$$&&$X++++;;;+++;                              :;++xxxxxxxxxxxxxx++++.                                                                                                                                                                                                           
                           :XXXx++++++++++++++++++++++++;+++++++++++++++++;;;;;;;;;;;;;;;;;;;+++;x++++++++;;;;;;;;;;;;;;;;;;;+X$&&&&X+++++;;;++++:                      :;+xxxxxxxxxxxxxxxx++++++++x+                                                                                                                                                                                                           
                           ;XXX$$Xx+++++++++++++++++++++++++++++++++++++;;;;;;;;;;;+;;;;;;;;;;;+++++++++++;;;;;;;;;;;;;;;;;;;xX$&&&&$xxxxx++;;;++++.               :+xxxxxxxxXXxxxxxxx++++++++++;;+++                                                                                                                                                                                                           
                           ;XXX$&$Xxxxxxxxxxx+x++++++++++++++++++++++++++++;;;;;;;;;++++;;;;;;;;;++;;+++++;;;;;;++;;;;;;;;+++X$$&&&&&$$XXxXxx++++++++;:     .:;+xxxxxxxxXXXXXXXXxxxxxxXXxxx+x+++++++:                                                                                                                                                                                                           
                           :X$$$$&$XXXxXXXxxxxx+x++++++++++++++++++++++++++++++++++++++++;+;;;;;;;;+;;+;;;;;;;;;+++;;;;;++++xX$&&&&&&&$$XXXXXxxxxxxxxxxxxxxXxXxxxxxxXXXXXXXXXXXXXXXXXXXXXXXxxx+++++:                                                                                                                                                                                                            
                            X$$$$&&$XXXXXXXXXxxxxxx+++++++x++++++++++++++++++++++++++++++++;;;;;;;;;;;;;;;;;;+++++++;;+++++XX$&&&&&&&&&$$XXxxxxxxXxxxXXxxxxxxxxxxXXXXXXXXXXxXXXXXXXXXXXXXxxx+++++.                                                                                                                                                                                                              
                            ;XXX$$&&$XXXXXXXXXXxxxxxxxxxxxxxxxx++xxxxxx++++++++++++++++++++++++++++;;;;;;;;;++++++;;+++++++X&&&&&&&&&&&$$XXXXXXXXXXXXxxxxxxxxXXXXXXXXXXXXXxxxxxxxxXxXXXXxxxxx++.                                                                                                                                                                                                                
                             +XXX$$&&&$$XXXXXXXXXxxxxxxxxxxXxxxXXXXxxx++x+++++++++++++++++++++++++++++;;;;+++++++++++++++xX&&&&&&&&&&&&&$$$XX$$XXXXXXxxxxXXXXXXXXXXXXXXXXx+;.                                                                                                                                                                                                                                   
                              xXXX$$&&&&$XXXXXXXXxxxxxxxXXXXXXXXXXXXXXXx++++++++++++++++++++++++++++;++++++++xxx+++++xxxX&&&&&&&&&&&&&&&$$$$$$$$$XXXXXXXXXXXXXXXXXXXXXXX:                                                                                                                                                                                                                                       
                               +XXXX$&&&&&$XXXXXXXxxXxxXXXXXXXXXXXXXXXxxxx+++++++++++++++++++x+++++++++++xxxXXXxxxxXXX$&&&&&&&&&&&&&&&$$$$$$$$$$XXXXXXXXXXXXXXXXXXXXXXx                                                                                                                                                                                                                                         
                                ;XXXXX$&&&&$XXXXXXXxxXXXXXXXXXX$$$$$$XXXXXxx+++++++++++++++xxxx+++++++xxxXXXXXXXXXX$&&&&&&&&&&&&&&&&&&&$$$$$$XXXXXXXXXXXXXXXXXXXXXXXXx.                                                                                                                                                                                                                                         
                                 .xXXXXX$&&&&$$XXXXXXXXXXXXX$$$$X$X$X$XXXXXXxxxx+++++++xxxxxXXXxxXXXXXXXXXXXXX$$&&&&&&&&&&&&&&&&&&&&&$$$XXXXXXXXXXXXXXXXXXXXXXXXXXxxx:                                                                                                                                                                                                                                          
                                   :xXX$$$$&&&&$$XXXXXXXXXXXXXXXX$X$XXXXX$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX$&&&&&&&&&&&&&&&&&&&&&$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXxx+                                                                                                                                                                                                                                           
                                     ;xXX$$$$$&&&&&$$XXXXXXXXXXXXXXXXXXX$$$$$$XXXXXXX$$XXXXXXXXXXX$$$$$XX$&&&&&&&&&&&&&&&&&&&&&&$$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXx;                                                                                                                                                                                                                                           
                                       :xX$$$$$&&&&&&&&&$$XXXXXXXXXXXX$XX$XXXX$XX$XXXX$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX+                                                                                                                                                                                                                                           
                                          +X$$$$&&&&&&&&&&&&&&$$$$$XXX$$$XXXXXX$$$$$$$$$$$$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$XXXxxxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;                                                                                                                                                                                                                                          
                                            :X$$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$XXx++xxXXXXXXXXxXxxxxXXXxxxXXXXXXXXXXXXXXXX;                               .:;+++;                                                                                                                                                                                                  
                                               ;X$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$XXx+++xXxxxxxxxxxxxxXxxxXxxXxxxxXXXXxxXXXXXXXXXX;.                     :++xx++++++++:                                                                                                                                                                                                
                                                  :x$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$$$$XXxx+++++++xxxxxxxxxxxxxxxxxxxxXxXxxxxxxxxxxxxXXXXXXXXXx+;:          .;++xxxxxxxx+x+xx++:                                                                                                                                                                                               
                                                     :XX$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$&$$$$$$$$$$$$$$$$$$XXXx++xx+++++xxxxxxxXXXXxxxxxx+x+xx+xxxxxxxxxxxxxx++++xxxxxxxxxxxxxxxxxxxx++++++xxxxxxx+++++++:                                                                                                                                                                                              
                                                         :+X$$$&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&$$$$$XXXXXXXxxxxxxxxxx++++;;++++xxxxXXXXX$$XXXxxxxxx+x+++++++xxxxxxxxxxxxxx+++++++++++++++++++++++++++xxxxxxxx++++++                                                                                                                                                                                              
                                                              :+X$$&&&&&&&&&&&&&&&&&&&&&&&$$$$$$$$$$XXXXXxxxxxxXx++++;;;;;;;+++xXXXXXX$$$$$$$$Xxx+++xxxxXXXXXXxxXxXXXXXXXXXXxXxXxxxxxxxxxxxxxxxxxxXXxxxxxxxxxxx+++:                                                                                                                                                                                             
                                                                    ;+X$&&&&&&&&&&&&&&&&$$$$$$$$$$$$$$XXXXXXXXX+++++;;;;;;;;++xxxxXXXXX$$$$$$$XXXXXXXXXXXXXXXXXXX$$$$$$$$$$$XXXXXXxxxxxxxxXX$$XX$$XXXXxxxxxxxxXXXx:                                                                                                                                                                                             
                                                                          :+X$&&&&&&&&&&&&&&$$$$$$$$$$$$$$$$XXXXx+++++++;;;;++xxXXXXX$X$$$$$$$$$$XXXXxXXXXXXXXXXXXXXXXXXXxxxxx+++xXX$$$$$$$$$$$$$$$$$XXXXXxxxXXXXx                                                                                                                                                                                              
                                                                                 ;x$$&&&&&&&&&&&&$$$$$$$$$$$$$XXXXXxxx++++++++++xXXXXXXXXXXXXxXxx+++++++++++++++++++xxxxxxxxxxxX$$$$$XXXX$$$$$$$$$$$$$XXXXXXXX$$+                                                                                                                                                                                               
                                                                                       .;+X$&&&&&&&&&&&$$X$$$$$$$XXXXXXx++++++;;+xXX$$$$$$XXXXXxxxx+x+++xxxxxxxxxxxxxxXxxXXXxx++;;;::;;;++XXX$$$$$$$$$$$$$$$$$x                                                                                                                                                                                                 
                                                                                               .+X$&&&&&&&&&$$$$$$$$$$XXx++++;;;;++XX$$&$$$$XXXXXXXXXXXXXXXXXXXXXXXXXXXXx;                      :+X$$$$$$$$$$;                                                                                                                                                                                                  
                                                                                                        :;+xXXX$$$&$$$$Xxx+;;;;;;;++xX$$&&&$X$$$$$$$$$$$$$$$$$Xx+:.                                  .;X$$$+                                                                                                                                                                                                    
                                                                                                                    .$$$XXx++++;;;;+xxXX$$&&$$$$$$$$$$$$$$X;                                                                                                                                                                                                                                                    
                                                                                                                      X&$XXXXxx++++++xxXXX$$$$$$$$$$$$$$x                                                                                                                                                                                                                                                       
                                                                                                                       +&$$XXXXxx+++++xXXX$$$$$$&$$$$&X                                                                                                                                                                                                                                                         
                                                                                                                        .$&$XXXXXXxx+++xXX$$&&&&&&&&&X                                                                                                                                                                                                                                                          
                                                                                                                          :$$$XXXXXXxxxxXXX$&&&$&&&&$.                                                                                                                                                                                                                                                          
                                                                                                                            ;$$$XXXXXXXXxXX$&&$$$&&$;                                                                                                                                                                                                                                                           
                                                                                                                              +$XXXXXXXXXXX&&&$$$&$+                                                                                                                                                                                                                                                            
                                                                                                                                +XXXXX$$XXX$$$$$$$X                                                                                                                                                                                                                                                             
                                                                                                                                  xXX$$XXXX$XXXX$$:                                                                                                                                                                                                                                                             
                                                                                                                                   :X$$XXXXXXXXX$x                                                                                                                                                                                                                                                              
                                                                                                                                    .$$XXX$XxxX$$                                                                                                                                                                                                                                                               
                                                                                                                                    :$$XXXXX++X$+                                                                                                                                                                                                                                                               
                                                                                                                                    ;$$XxXXX++XX:                                                                                                                                                                                                                                                               
                                                                                                                                    ;$$Xx+XXx+xx                                                                                                                                                                                                                                                                
                                                                                                                                    +$$X+xXXXxXx.                                                                                                                                                                                                                                                               
                                                                                                                                    +$$XxXXXXXXX;                                                                                                                                                                                                                                                               
                                                                                                                                    ;$XXXXXXXXXXX                                                                                                                                                                                                                                                               
                                                                                                                                     $$XXXXXXXXXXX.                                                                                                                                                                                                                                                             
                                                                                                                                     +$$$$$XXXXXXXX:                                                                                                                                                                                                                                                            
                                                                                                                                      X$$$$$XXXXXXXX+                                                                                                                                                                                                                                                           
                                                                                                                                      ;X$$$$XXXXXXXXXX:                                                                                                                                                                                                                                                         
                                                                                                                                      .X$$$$$XX$XXXXXXX+                                                                                                                                                                                                                                                        
                                                                                                                                      :X$$$$XXX$$XXXxXXX+                                                                                                                                                                                                                                                       
                                                                                                                                       X$$$$X$$$$$XXXXXXX:                                                                                                                                                                                                                                                      
                                                                                                                                       X$$$$$$$$$$XX$$$XX:                                                                                                                                                                                                                                                      
                                                                                                                                       +$$$$$$$$$$$$$$$X;                                                                                                                                                                                                                                                       
                                                                                                                                       :$$$$$&$&$$$$$$+                                                                                                                                                                                                                                                         
                                                                                                                                        X$$&&&&$$$$$x                                                                                                                                                                                                                                                           
                                                                                                                                        ;$$&&$$$$$+                                                                                                                                                                                                                                                             
                                                                                                                                         ;$$$$$x.                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                
`;

/* =========================
   1) Global “shift left 50px”
   (applies to overlay coordinates you set below)
   ========================= */
const X_SHIFT = -50;  // negative = move left, positive = right

/* =========================
   2) Mouth configuration (you can overwrite with your saved values)
   ========================= */
let MOUTH_ROW = 44;
let MOUTH_COL = 70 + X_SHIFT;   // 70 shifted left by 50
let MOUTH_W   = 252;
let MOUTH_H   = 12;
let MOUTH_ROT_DEG = -16;

/* If true, the oval grows from the TOP-LEFT corner (diagonal).
   If false, it opens TOP → BOTTOM (width fixed, height grows). */
const OPEN_FROM_CORNER = true;

/* Locking/guide/fps */
let LOCK_MOUTH = true;  // set false to adjust with keys (if you wire keys later)
let showGuide  = true;  // + markers — toggle with G
let paused     = false;
let fps        = 8;

/* Optional targets to see alignment (also shifted left) */
const targets = [
  { row: 60, col: 120 + X_SHIFT, label: 't1' },
  { row: 60, col: 127 + X_SHIFT, label: 't2' },
  { row: 60, col: 134 + X_SHIFT, label: 't3' },
  { row: 60, col: 141 + X_SHIFT, label: 't4' },
];

/* =========================
   3) Persist mouth (load / save)
   ========================= */
(function loadSavedMouth(){
  const m = JSON.parse(localStorage.getItem('eyefrogMouth') || 'null');
  if (m){
    MOUTH_ROW = m.row;
    MOUTH_COL = m.col;
    MOUTH_W   = m.w;
    MOUTH_H   = m.h;
    MOUTH_ROT_DEG = m.rot;
    LOCK_MOUTH = true;
    console.log('Loaded mouth:', m);
  }
})();

function saveMouth(){
  const payload = {
    row: MOUTH_ROW, col: MOUTH_COL,
    w: MOUTH_W,    h: MOUTH_H,
    rot: MOUTH_ROT_DEG
  };
  localStorage.setItem('eyefrogMouth', JSON.stringify(payload));
  console.log('Saved mouth:', payload);
}

/* =========================
   4) Helpers: text → grid, write, bake
   ========================= */
function toGrid(str){
  return str.replace(/\r/g,'').split('\n').map(line => line.split(''));
}
function ensureCol(rowArr, col){
  while (col >= rowArr.length) rowArr.push(' ');
}
function writeChar(grid, r, c, ch){
  if (r < 0) return;
  if (r >= grid.length) {
    for (let i = grid.length; i <= r; i++) grid.push([]);
  }
  ensureCol(grid[r], c);
  grid[r][c] = ch;
}
function bake(grid){
  return grid.map(row => row.join('')).join('\n');
}

/* =========================
   5) Mouth carving (erases ASCII inside an oval)
   ========================= */
function carveMouthInto(baseText, open01){
  const lines = toGrid(baseText);

  if (OPEN_FROM_CORNER){
    // Corner-anchored growth: top-left stays fixed at MOUTH_ROW/COL
    const Wcur = Math.max(1, Math.round(MOUTH_W * open01));
    const Hcur = Math.max(1, Math.round(MOUTH_H * open01));

    const cx = MOUTH_COL + Math.floor(Wcur / 2);
    const cy = MOUTH_ROW + Math.floor(Hcur / 2);

    const a  = Math.max(0.5, Wcur / 2);
    const b  = Math.max(0.5, Hcur / 2);

    const th = (MOUTH_ROT_DEG * Math.PI) / 180;
    const cos = Math.cos(th), sin = Math.sin(th);

    for (let r = 0; r < Hcur; r++){
      const rr = MOUTH_ROW + r;
      if (rr < 0) continue;
      if (rr >= lines.length) lines.push([]);

      for (let c = 0; c < Wcur; c++){
        const cc = MOUTH_COL + c;
        if (cc < 0) continue;
        ensureCol(lines[rr], cc);

        const dx = cc - cx, dy = rr - cy;
        const xr =  dx * cos + dy * sin;
        const yr = -dx * sin + dy * cos;

        if ((xr*xr)/(a*a) + (yr*yr)/(b*b) <= 1){
          lines[rr][cc] = ' '; // erase inside the oval
        }
      }
    }
    return bake(lines);
  } else {
    // Top→bottom growth: width fixed, height grows downward
    const W = Math.max(1, MOUTH_W);
    const H = Math.max(1, Math.round(MOUTH_H * open01));

    const cx = MOUTH_COL + Math.floor(W / 2);
    // use center of the full (max) box so it looks like a jaw drop
    const cy = MOUTH_ROW + Math.floor(MOUTH_H / 2);

    const a  = W / 2;
    const b  = Math.max(0.5, H / 2);

    const th = (MOUTH_ROT_DEG * Math.PI)/180;
    const cos = Math.cos(th), sin = Math.sin(th);

    for (let r = 0; r < H; r++){
      const rr = MOUTH_ROW + r;
      if (rr < 0) continue;
      if (rr >= lines.length) lines.push([]);

      for (let c = 0; c < W; c++){
        const cc = MOUTH_COL + c;
        if (cc < 0) continue;
        ensureCol(lines[rr], cc);

        const dx = cc - cx, dy = rr - cy;
        const xr =  dx * cos + dy * sin;
        const yr = -dx * sin + dy * cos;

        if ((xr*xr)/(a*a) + (yr*yr)/(b*b) <= 1){
          lines[rr][cc] = ' ';
        }
      }
    }
    return bake(lines);
  }
}

/* =========================
   6) Guide overlay (+ markers)
   ========================= */
function overlayGuide(baseText){
  if (!showGuide) return baseText;
  const g = toGrid(baseText);
  for (const t of targets){
    writeChar(g, t.row, Math.max(0,t.col), '+');
  }
  return bake(g);
}

/* =========================
   7) Animation loop
   ========================= */
const screen = document.getElementById('screen');
let tickN = 0;

function frame(){
  if (!paused){
    const open01 = (Math.sin(tickN/5)+1)/2; // 0..1
    let composed = frogArt;
    composed = carveMouthInto(composed, open01); // erase mouth area each frame
    composed = overlayGuide(composed);
    screen.textContent = composed;
    tickN++;
  }
}
setInterval(frame, 1000/Math.max(1,fps));

/* =========================
   8) Shortcuts / HUD
   ========================= */
document.addEventListener('keydown', e=>{
  if (e.key === 'p') paused = !paused;
  if (e.key === 'g') showGuide = !showGuide;

  if (e.key === 'l'){ // log mouth
    console.log('MOUTH_ROW =', MOUTH_ROW);
    console.log('MOUTH_COL =', MOUTH_COL);
    console.log('MOUTH_W   =', MOUTH_W);
    console.log('MOUTH_H   =', MOUTH_H);
    console.log('MOUTH_ROT_DEG =', MOUTH_ROT_DEG);
  }
  if ((e.ctrlKey||e.metaKey) && e.key.toLowerCase() === 's'){
    e.preventDefault();
    saveMouth();
  }
  if (e.key === '+'){ fps = Math.min(60, fps+1); }
  if (e.key === '-'){ fps = Math.max(1, fps-1); }
});

document.getElementById('hud').innerHTML =
  'G guide • L log • P pause • +/- fps • ⌘/Ctrl+S save';
</script>
